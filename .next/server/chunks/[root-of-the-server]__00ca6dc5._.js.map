{"version":3,"sources":["../../../node_modules/isexe/windows.js","../../../node_modules/isexe/index.js","../../../node_modules/which/which.js","../../../node_modules/fluent-ffmpeg/lib/utils.js","../../../node_modules/fluent-ffmpeg/lib/options/inputs.js","../../../node_modules/fluent-ffmpeg/lib/options/audio.js","../../../node_modules/fluent-ffmpeg/lib/options/video.js","../../../node_modules/fluent-ffmpeg/lib/options/videosize.js","../../../node_modules/fluent-ffmpeg/lib/options/output.js","../../../node_modules/fluent-ffmpeg/lib/options/custom.js","../../../node_modules/fluent-ffmpeg/lib/options/misc.js","../../../node_modules/async/lib/async.js","../../../node_modules/fluent-ffmpeg/lib/processor.js","../../../node_modules/fluent-ffmpeg/lib/capabilities.js","../../../node_modules/fluent-ffmpeg/lib/ffprobe.js","../../../node_modules/fluent-ffmpeg/lib/recipes.js","../../../node_modules/fluent-ffmpeg/lib/fluent-ffmpeg.js","../../../node_modules/fluent-ffmpeg/index.js","turbopack:///[project]/node_modules/ffmpeg-static/package.json","../../../node_modules/ffmpeg-static/index.js","../../../node_modules/next/dist/esm/build/templates/app-route.js","../../../app/api/reels/upload/route.js"],"sourcesContent":["module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n","var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n","module.exports = which\nwhich.sync = whichSync\n\nvar isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nvar path = require('path')\nvar COLON = isWindows ? ';' : ':'\nvar isexe = require('isexe')\n\nfunction getNotFoundError (cmd) {\n  var er = new Error('not found: ' + cmd)\n  er.code = 'ENOENT'\n\n  return er\n}\n\nfunction getPathInfo (cmd, opt) {\n  var colon = opt.colon || COLON\n  var pathEnv = opt.path || process.env.PATH || ''\n  var pathExt = ['']\n\n  pathEnv = pathEnv.split(colon)\n\n  var pathExtExe = ''\n  if (isWindows) {\n    pathEnv.unshift(process.cwd())\n    pathExtExe = (opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM')\n    pathExt = pathExtExe.split(colon)\n\n\n    // Always test the cmd itself first.  isexe will check to make sure\n    // it's found in the pathExt set.\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  if (cmd.match(/\\//) || isWindows && cmd.match(/\\\\/))\n    pathEnv = ['']\n\n  return {\n    env: pathEnv,\n    ext: pathExt,\n    extExe: pathExtExe\n  }\n}\n\nfunction which (cmd, opt, cb) {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  ;(function F (i, l) {\n    if (i === l) {\n      if (opt.all && found.length)\n        return cb(null, found)\n      else\n        return cb(getNotFoundError(cmd))\n    }\n\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && (/^\\.[\\\\\\/]/).test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    ;(function E (ii, ll) {\n      if (ii === ll) return F(i + 1, l)\n      var ext = pathExt[ii]\n      isexe(p + ext, { pathExt: pathExtExe }, function (er, is) {\n        if (!er && is) {\n          if (opt.all)\n            found.push(p + ext)\n          else\n            return cb(null, p + ext)\n        }\n        return E(ii + 1, ll)\n      })\n    })(0, pathExt.length)\n  })(0, pathEnv.length)\n}\n\nfunction whichSync (cmd, opt) {\n  opt = opt || {}\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  for (var i = 0, l = pathEnv.length; i < l; i ++) {\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && /^\\.[\\\\\\/]/.test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    for (var j = 0, ll = pathExt.length; j < ll; j ++) {\n      var cur = p + pathExt[j]\n      var is\n      try {\n        is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n","/*jshint node:true*/\n'use strict';\n\nvar exec = require('child_process').exec;\nvar isWindows = require('os').platform().match(/win(32|64)/);\nvar which = require('which');\n\nvar nlRegexp = /\\r\\n|\\r|\\n/g;\nvar streamRegexp = /^\\[?(.*?)\\]?$/;\nvar filterEscapeRegexp = /[,]/;\nvar whichCache = {};\n\n/**\n * Parse progress line from ffmpeg stderr\n *\n * @param {String} line progress line\n * @return progress object\n * @private\n */\nfunction parseProgressLine(line) {\n  var progress = {};\n\n  // Remove all spaces after = and trim\n  line  = line.replace(/=\\s+/g, '=').trim();\n  var progressParts = line.split(' ');\n\n  // Split every progress part by \"=\" to get key and value\n  for(var i = 0; i < progressParts.length; i++) {\n    var progressSplit = progressParts[i].split('=', 2);\n    var key = progressSplit[0];\n    var value = progressSplit[1];\n\n    // This is not a progress line\n    if(typeof value === 'undefined')\n      return null;\n\n    progress[key] = value;\n  }\n\n  return progress;\n}\n\n\nvar utils = module.exports = {\n  isWindows: isWindows,\n  streamRegexp: streamRegexp,\n\n\n  /**\n   * Copy an object keys into another one\n   *\n   * @param {Object} source source object\n   * @param {Object} dest destination object\n   * @private\n   */\n  copy: function(source, dest) {\n    Object.keys(source).forEach(function(key) {\n      dest[key] = source[key];\n    });\n  },\n\n\n  /**\n   * Create an argument list\n   *\n   * Returns a function that adds new arguments to the list.\n   * It also has the following methods:\n   * - clear() empties the argument list\n   * - get() returns the argument list\n   * - find(arg, count) finds 'arg' in the list and return the following 'count' items, or undefined if not found\n   * - remove(arg, count) remove 'arg' in the list as well as the following 'count' items\n   *\n   * @private\n   */\n  args: function() {\n    var list = [];\n\n    // Append argument(s) to the list\n    var argfunc = function() {\n      if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        list = list.concat(arguments[0]);\n      } else {\n        list = list.concat([].slice.call(arguments));\n      }\n    };\n\n    // Clear argument list\n    argfunc.clear = function() {\n      list = [];\n    };\n\n    // Return argument list\n    argfunc.get = function() {\n      return list;\n    };\n\n    // Find argument 'arg' in list, and if found, return an array of the 'count' items that follow it\n    argfunc.find = function(arg, count) {\n      var index = list.indexOf(arg);\n      if (index !== -1) {\n        return list.slice(index + 1, index + 1 + (count || 0));\n      }\n    };\n\n    // Find argument 'arg' in list, and if found, remove it as well as the 'count' items that follow it\n    argfunc.remove = function(arg, count) {\n      var index = list.indexOf(arg);\n      if (index !== -1) {\n        list.splice(index, (count || 0) + 1);\n      }\n    };\n\n    // Clone argument list\n    argfunc.clone = function() {\n      var cloned = utils.args();\n      cloned(list);\n      return cloned;\n    };\n\n    return argfunc;\n  },\n\n\n  /**\n   * Generate filter strings\n   *\n   * @param {String[]|Object[]} filters filter specifications. When using objects,\n   *   each must have the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|Array} [filters.inputs] (array of) input stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically choosing the first unused matching streams\n   * @param {String|Array} [filters.outputs] (array of) output stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically assigning the output to the output file\n   * @param {Object|String|Array} [filters.options] filter options, can be omitted to not set any options\n   * @return String[]\n   * @private\n   */\n  makeFilterStrings: function(filters) {\n    return filters.map(function(filterSpec) {\n      if (typeof filterSpec === 'string') {\n        return filterSpec;\n      }\n\n      var filterString = '';\n\n      // Filter string format is:\n      // [input1][input2]...filter[output1][output2]...\n      // The 'filter' part can optionaly have arguments:\n      //   filter=arg1:arg2:arg3\n      //   filter=arg1=v1:arg2=v2:arg3=v3\n\n      // Add inputs\n      if (Array.isArray(filterSpec.inputs)) {\n        filterString += filterSpec.inputs.map(function(streamSpec) {\n          return streamSpec.replace(streamRegexp, '[$1]');\n        }).join('');\n      } else if (typeof filterSpec.inputs === 'string') {\n        filterString += filterSpec.inputs.replace(streamRegexp, '[$1]');\n      }\n\n      // Add filter\n      filterString += filterSpec.filter;\n\n      // Add options\n      if (filterSpec.options) {\n        if (typeof filterSpec.options === 'string' || typeof filterSpec.options === 'number') {\n          // Option string\n          filterString += '=' + filterSpec.options;\n        } else if (Array.isArray(filterSpec.options)) {\n          // Option array (unnamed options)\n          filterString += '=' + filterSpec.options.map(function(option) {\n            if (typeof option === 'string' && option.match(filterEscapeRegexp)) {\n              return '\\'' + option + '\\'';\n            } else {\n              return option;\n            }\n          }).join(':');\n        } else if (Object.keys(filterSpec.options).length) {\n          // Option object (named options)\n          filterString += '=' + Object.keys(filterSpec.options).map(function(option) {\n            var value = filterSpec.options[option];\n\n            if (typeof value === 'string' && value.match(filterEscapeRegexp)) {\n              value = '\\'' + value + '\\'';\n            }\n\n            return option + '=' + value;\n          }).join(':');\n        }\n      }\n\n      // Add outputs\n      if (Array.isArray(filterSpec.outputs)) {\n        filterString += filterSpec.outputs.map(function(streamSpec) {\n          return streamSpec.replace(streamRegexp, '[$1]');\n        }).join('');\n      } else if (typeof filterSpec.outputs === 'string') {\n        filterString += filterSpec.outputs.replace(streamRegexp, '[$1]');\n      }\n\n      return filterString;\n    });\n  },\n\n\n  /**\n   * Search for an executable\n   *\n   * Uses 'which' or 'where' depending on platform\n   *\n   * @param {String} name executable name\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  which: function(name, callback) {\n    if (name in whichCache) {\n      return callback(null, whichCache[name]);\n    }\n\n    which(name, function(err, result){\n      if (err) {\n        // Treat errors as not found\n        return callback(null, whichCache[name] = '');\n      }\n      callback(null, whichCache[name] = result);\n    });\n  },\n\n\n  /**\n   * Convert a [[hh:]mm:]ss[.xxx] timemark into seconds\n   *\n   * @param {String} timemark timemark string\n   * @return Number\n   * @private\n   */\n  timemarkToSeconds: function(timemark) {\n    if (typeof timemark === 'number') {\n      return timemark;\n    }\n\n    if (timemark.indexOf(':') === -1 && timemark.indexOf('.') >= 0) {\n      return Number(timemark);\n    }\n\n    var parts = timemark.split(':');\n\n    // add seconds\n    var secs = Number(parts.pop());\n\n    if (parts.length) {\n      // add minutes\n      secs += Number(parts.pop()) * 60;\n    }\n\n    if (parts.length) {\n      // add hours\n      secs += Number(parts.pop()) * 3600;\n    }\n\n    return secs;\n  },\n\n\n  /**\n   * Extract codec data from ffmpeg stderr and emit 'codecData' event if appropriate\n   * Call it with an initially empty codec object once with each line of stderr output until it returns true\n   *\n   * @param {FfmpegCommand} command event emitter\n   * @param {String} stderrLine ffmpeg stderr output line\n   * @param {Object} codecObject object used to accumulate codec data between calls\n   * @return {Boolean} true if codec data is complete (and event was emitted), false otherwise\n   * @private\n   */\n  extractCodecData: function(command, stderrLine, codecsObject) {\n    var inputPattern = /Input #[0-9]+, ([^ ]+),/;\n    var durPattern = /Duration\\: ([^,]+)/;\n    var audioPattern = /Audio\\: (.*)/;\n    var videoPattern = /Video\\: (.*)/;\n\n    if (!('inputStack' in codecsObject)) {\n      codecsObject.inputStack = [];\n      codecsObject.inputIndex = -1;\n      codecsObject.inInput = false;\n    }\n\n    var inputStack = codecsObject.inputStack;\n    var inputIndex = codecsObject.inputIndex;\n    var inInput = codecsObject.inInput;\n\n    var format, dur, audio, video;\n\n    if (format = stderrLine.match(inputPattern)) {\n      inInput = codecsObject.inInput = true;\n      inputIndex = codecsObject.inputIndex = codecsObject.inputIndex + 1;\n\n      inputStack[inputIndex] = { format: format[1], audio: '', video: '', duration: '' };\n    } else if (inInput && (dur = stderrLine.match(durPattern))) {\n      inputStack[inputIndex].duration = dur[1];\n    } else if (inInput && (audio = stderrLine.match(audioPattern))) {\n      audio = audio[1].split(', ');\n      inputStack[inputIndex].audio = audio[0];\n      inputStack[inputIndex].audio_details = audio;\n    } else if (inInput && (video = stderrLine.match(videoPattern))) {\n      video = video[1].split(', ');\n      inputStack[inputIndex].video = video[0];\n      inputStack[inputIndex].video_details = video;\n    } else if (/Output #\\d+/.test(stderrLine)) {\n      inInput = codecsObject.inInput = false;\n    } else if (/Stream mapping:|Press (\\[q\\]|ctrl-c) to stop/.test(stderrLine)) {\n      command.emit.apply(command, ['codecData'].concat(inputStack));\n      return true;\n    }\n\n    return false;\n  },\n\n\n  /**\n   * Extract progress data from ffmpeg stderr and emit 'progress' event if appropriate\n   *\n   * @param {FfmpegCommand} command event emitter\n   * @param {String} stderrLine ffmpeg stderr data\n   * @private\n   */\n  extractProgress: function(command, stderrLine) {\n    var progress = parseProgressLine(stderrLine);\n\n    if (progress) {\n      // build progress report object\n      var ret = {\n        frames: parseInt(progress.frame, 10),\n        currentFps: parseInt(progress.fps, 10),\n        currentKbps: progress.bitrate ? parseFloat(progress.bitrate.replace('kbits/s', '')) : 0,\n        targetSize: parseInt(progress.size || progress.Lsize, 10),\n        timemark: progress.time\n      };\n\n      // calculate percent progress using duration\n      if (command._ffprobeData && command._ffprobeData.format && command._ffprobeData.format.duration) {\n        var duration = Number(command._ffprobeData.format.duration);\n        if (!isNaN(duration))\n          ret.percent = (utils.timemarkToSeconds(ret.timemark) / duration) * 100;\n      }\n      command.emit('progress', ret);\n    }\n  },\n\n\n  /**\n   * Extract error message(s) from ffmpeg stderr\n   *\n   * @param {String} stderr ffmpeg stderr data\n   * @return {String}\n   * @private\n   */\n  extractError: function(stderr) {\n    // Only return the last stderr lines that don't start with a space or a square bracket\n    return stderr.split(nlRegexp).reduce(function(messages, message) {\n      if (message.charAt(0) === ' ' || message.charAt(0) === '[') {\n        return [];\n      } else {\n        messages.push(message);\n        return messages;\n      }\n    }, []).join('\\n');\n  },\n\n\n  /**\n   * Creates a line ring buffer object with the following methods:\n   * - append(str) : appends a string or buffer\n   * - get() : returns the whole string\n   * - close() : prevents further append() calls and does a last call to callbacks\n   * - callback(cb) : calls cb for each line (incl. those already in the ring)\n   *\n   * @param {Number} maxLines maximum number of lines to store (<= 0 for unlimited)\n   */\n  linesRing: function(maxLines) {\n    var cbs = [];\n    var lines = [];\n    var current = null;\n    var closed = false\n    var max = maxLines - 1;\n\n    function emit(line) {\n      cbs.forEach(function(cb) { cb(line); });\n    }\n\n    return {\n      callback: function(cb) {\n        lines.forEach(function(l) { cb(l); });\n        cbs.push(cb);\n      },\n\n      append: function(str) {\n        if (closed) return;\n        if (str instanceof Buffer) str = '' + str;\n        if (!str || str.length === 0) return;\n\n        var newLines = str.split(nlRegexp);\n\n        if (newLines.length === 1) {\n          if (current !== null) {\n            current = current + newLines.shift();\n          } else {\n            current = newLines.shift();\n          }\n        } else {\n          if (current !== null) {\n            current = current + newLines.shift();\n            emit(current);\n            lines.push(current);\n          }\n\n          current = newLines.pop();\n\n          newLines.forEach(function(l) {\n            emit(l);\n            lines.push(l);\n          });\n\n          if (max > -1 && lines.length > max) {\n            lines.splice(0, lines.length - max);\n          }\n        }\n      },\n\n      get: function() {\n        if (current !== null) {\n          return lines.concat([current]).join('\\n');\n        } else {\n          return lines.join('\\n');\n        }\n      },\n\n      close: function() {\n        if (closed) return;\n\n        if (current !== null) {\n          emit(current);\n          lines.push(current);\n\n          if (max > -1 && lines.length > max) {\n            lines.shift();\n          }\n\n          current = null;\n        }\n\n        closed = true;\n      }\n    };\n  }\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n/*\n *! Input-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add an input to command\n   *\n   * Also switches \"current input\", that is the input that will be affected\n   * by subsequent input-related methods.\n   *\n   * Note: only one stream input is supported for now.\n   *\n   * @method FfmpegCommand#input\n   * @category Input\n   * @aliases mergeAdd,addInput\n   *\n   * @param {String|Readable} source input file path or readable stream\n   * @return FfmpegCommand\n   */\n  proto.mergeAdd =\n  proto.addInput =\n  proto.input = function(source) {\n    var isFile = false;\n    var isStream = false;\n\n    if (typeof source !== 'string') {\n      if (!('readable' in source) || !(source.readable)) {\n        throw new Error('Invalid input');\n      }\n\n      var hasInputStream = this._inputs.some(function(input) {\n        return input.isStream;\n      });\n\n      if (hasInputStream) {\n        throw new Error('Only one input stream is supported');\n      }\n\n      isStream = true;\n      source.pause();\n    } else {\n      var protocol = source.match(/^([a-z]{2,}):/i);\n      isFile = !protocol || protocol[0] === 'file';\n    }\n\n    this._inputs.push(this._currentInput = {\n      source: source,\n      isFile: isFile,\n      isStream: isStream,\n      options: utils.args()\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Specify input format for the last specified input\n   *\n   * @method FfmpegCommand#inputFormat\n   * @category Input\n   * @aliases withInputFormat,fromFormat\n   *\n   * @param {String} format input format\n   * @return FfmpegCommand\n   */\n  proto.withInputFormat =\n  proto.inputFormat =\n  proto.fromFormat = function(format) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-f', format);\n    return this;\n  };\n\n\n  /**\n   * Specify input FPS for the last specified input\n   * (only valid for raw video formats)\n   *\n   * @method FfmpegCommand#inputFps\n   * @category Input\n   * @aliases withInputFps,withInputFPS,withFpsInput,withFPSInput,inputFPS,inputFps,fpsInput\n   *\n   * @param {Number} fps input FPS\n   * @return FfmpegCommand\n   */\n  proto.withInputFps =\n  proto.withInputFPS =\n  proto.withFpsInput =\n  proto.withFPSInput =\n  proto.inputFPS =\n  proto.inputFps =\n  proto.fpsInput =\n  proto.FPSInput = function(fps) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-r', fps);\n    return this;\n  };\n\n\n  /**\n   * Use native framerate for the last specified input\n   *\n   * @method FfmpegCommand#native\n   * @category Input\n   * @aliases nativeFramerate,withNativeFramerate\n   *\n   * @return FfmmegCommand\n   */\n  proto.nativeFramerate =\n  proto.withNativeFramerate =\n  proto.native = function() {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-re');\n    return this;\n  };\n\n\n  /**\n   * Specify input seek time for the last specified input\n   *\n   * @method FfmpegCommand#seekInput\n   * @category Input\n   * @aliases setStartTime,seekTo\n   *\n   * @param {String|Number} seek seek time in seconds or as a '[hh:[mm:]]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.setStartTime =\n  proto.seekInput = function(seek) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-ss', seek);\n\n    return this;\n  };\n\n\n  /**\n   * Loop over the last specified input\n   *\n   * @method FfmpegCommand#loop\n   * @category Input\n   *\n   * @param {String|Number} [duration] loop duration in seconds or as a '[[hh:]mm:]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.loop = function(duration) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-loop', '1');\n\n    if (typeof duration !== 'undefined') {\n      this.duration(duration);\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Audio-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Disable audio in the output\n   *\n   * @method FfmpegCommand#noAudio\n   * @category Audio\n   * @aliases withNoAudio\n   * @return FfmpegCommand\n   */\n  proto.withNoAudio =\n  proto.noAudio = function() {\n    this._currentOutput.audio.clear();\n    this._currentOutput.audioFilters.clear();\n    this._currentOutput.audio('-an');\n\n    return this;\n  };\n\n\n  /**\n   * Specify audio codec\n   *\n   * @method FfmpegCommand#audioCodec\n   * @category Audio\n   * @aliases withAudioCodec\n   *\n   * @param {String} codec audio codec name\n   * @return FfmpegCommand\n   */\n  proto.withAudioCodec =\n  proto.audioCodec = function(codec) {\n    this._currentOutput.audio('-acodec', codec);\n\n    return this;\n  };\n\n\n  /**\n   * Specify audio bitrate\n   *\n   * @method FfmpegCommand#audioBitrate\n   * @category Audio\n   * @aliases withAudioBitrate\n   *\n   * @param {String|Number} bitrate audio bitrate in kbps (with an optional 'k' suffix)\n   * @return FfmpegCommand\n   */\n  proto.withAudioBitrate =\n  proto.audioBitrate = function(bitrate) {\n    this._currentOutput.audio('-b:a', ('' + bitrate).replace(/k?$/, 'k'));\n    return this;\n  };\n\n\n  /**\n   * Specify audio channel count\n   *\n   * @method FfmpegCommand#audioChannels\n   * @category Audio\n   * @aliases withAudioChannels\n   *\n   * @param {Number} channels channel count\n   * @return FfmpegCommand\n   */\n  proto.withAudioChannels =\n  proto.audioChannels = function(channels) {\n    this._currentOutput.audio('-ac', channels);\n    return this;\n  };\n\n\n  /**\n   * Specify audio frequency\n   *\n   * @method FfmpegCommand#audioFrequency\n   * @category Audio\n   * @aliases withAudioFrequency\n   *\n   * @param {Number} freq audio frequency in Hz\n   * @return FfmpegCommand\n   */\n  proto.withAudioFrequency =\n  proto.audioFrequency = function(freq) {\n    this._currentOutput.audio('-ar', freq);\n    return this;\n  };\n\n\n  /**\n   * Specify audio quality\n   *\n   * @method FfmpegCommand#audioQuality\n   * @category Audio\n   * @aliases withAudioQuality\n   *\n   * @param {Number} quality audio quality factor\n   * @return FfmpegCommand\n   */\n  proto.withAudioQuality =\n  proto.audioQuality = function(quality) {\n    this._currentOutput.audio('-aq', quality);\n    return this;\n  };\n\n\n  /**\n   * Specify custom audio filter(s)\n   *\n   * Can be called both with one or many filters, or a filter array.\n   *\n   * @example\n   * command.audioFilters('filter1');\n   *\n   * @example\n   * command.audioFilters('filter1', 'filter2=param1=value1:param2=value2');\n   *\n   * @example\n   * command.audioFilters(['filter1', 'filter2']);\n   *\n   * @example\n   * command.audioFilters([\n   *   {\n   *     filter: 'filter1'\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: 'param=value:param=value'\n   *   }\n   * ]);\n   *\n   * @example\n   * command.audioFilters(\n   *   {\n   *     filter: 'filter1',\n   *     options: ['value1', 'value2']\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: { param1: 'value1', param2: 'value2' }\n   *   }\n   * );\n   *\n   * @method FfmpegCommand#audioFilters\n   * @aliases withAudioFilter,withAudioFilters,audioFilter\n   * @category Audio\n   *\n   * @param {...String|String[]|Object[]} filters audio filter strings, string array or\n   *   filter specification array, each with the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|String[]|Object} [filters.options] filter option string, array, or object\n   * @return FfmpegCommand\n   */\n  proto.withAudioFilter =\n  proto.withAudioFilters =\n  proto.audioFilter =\n  proto.audioFilters = function(filters) {\n    if (arguments.length > 1) {\n      filters = [].slice.call(arguments);\n    }\n\n    if (!Array.isArray(filters)) {\n      filters = [filters];\n    }\n\n    this._currentOutput.audioFilters(utils.makeFilterStrings(filters));\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Video-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Disable video in the output\n   *\n   * @method FfmpegCommand#noVideo\n   * @category Video\n   * @aliases withNoVideo\n   *\n   * @return FfmpegCommand\n   */\n  proto.withNoVideo =\n  proto.noVideo = function() {\n    this._currentOutput.video.clear();\n    this._currentOutput.videoFilters.clear();\n    this._currentOutput.video('-vn');\n\n    return this;\n  };\n\n\n  /**\n   * Specify video codec\n   *\n   * @method FfmpegCommand#videoCodec\n   * @category Video\n   * @aliases withVideoCodec\n   *\n   * @param {String} codec video codec name\n   * @return FfmpegCommand\n   */\n  proto.withVideoCodec =\n  proto.videoCodec = function(codec) {\n    this._currentOutput.video('-vcodec', codec);\n    return this;\n  };\n\n\n  /**\n   * Specify video bitrate\n   *\n   * @method FfmpegCommand#videoBitrate\n   * @category Video\n   * @aliases withVideoBitrate\n   *\n   * @param {String|Number} bitrate video bitrate in kbps (with an optional 'k' suffix)\n   * @param {Boolean} [constant=false] enforce constant bitrate\n   * @return FfmpegCommand\n   */\n  proto.withVideoBitrate =\n  proto.videoBitrate = function(bitrate, constant) {\n    bitrate = ('' + bitrate).replace(/k?$/, 'k');\n\n    this._currentOutput.video('-b:v', bitrate);\n    if (constant) {\n      this._currentOutput.video(\n        '-maxrate', bitrate,\n        '-minrate', bitrate,\n        '-bufsize', '3M'\n      );\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Specify custom video filter(s)\n   *\n   * Can be called both with one or many filters, or a filter array.\n   *\n   * @example\n   * command.videoFilters('filter1');\n   *\n   * @example\n   * command.videoFilters('filter1', 'filter2=param1=value1:param2=value2');\n   *\n   * @example\n   * command.videoFilters(['filter1', 'filter2']);\n   *\n   * @example\n   * command.videoFilters([\n   *   {\n   *     filter: 'filter1'\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: 'param=value:param=value'\n   *   }\n   * ]);\n   *\n   * @example\n   * command.videoFilters(\n   *   {\n   *     filter: 'filter1',\n   *     options: ['value1', 'value2']\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: { param1: 'value1', param2: 'value2' }\n   *   }\n   * );\n   *\n   * @method FfmpegCommand#videoFilters\n   * @category Video\n   * @aliases withVideoFilter,withVideoFilters,videoFilter\n   *\n   * @param {...String|String[]|Object[]} filters video filter strings, string array or\n   *   filter specification array, each with the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|String[]|Object} [filters.options] filter option string, array, or object\n   * @return FfmpegCommand\n   */\n  proto.withVideoFilter =\n  proto.withVideoFilters =\n  proto.videoFilter =\n  proto.videoFilters = function(filters) {\n    if (arguments.length > 1) {\n      filters = [].slice.call(arguments);\n    }\n\n    if (!Array.isArray(filters)) {\n      filters = [filters];\n    }\n\n    this._currentOutput.videoFilters(utils.makeFilterStrings(filters));\n\n    return this;\n  };\n\n\n  /**\n   * Specify output FPS\n   *\n   * @method FfmpegCommand#fps\n   * @category Video\n   * @aliases withOutputFps,withOutputFPS,withFpsOutput,withFPSOutput,withFps,withFPS,outputFPS,outputFps,fpsOutput,FPSOutput,FPS\n   *\n   * @param {Number} fps output FPS\n   * @return FfmpegCommand\n   */\n  proto.withOutputFps =\n  proto.withOutputFPS =\n  proto.withFpsOutput =\n  proto.withFPSOutput =\n  proto.withFps =\n  proto.withFPS =\n  proto.outputFPS =\n  proto.outputFps =\n  proto.fpsOutput =\n  proto.FPSOutput =\n  proto.fps =\n  proto.FPS = function(fps) {\n    this._currentOutput.video('-r', fps);\n    return this;\n  };\n\n\n  /**\n   * Only transcode a certain number of frames\n   *\n   * @method FfmpegCommand#frames\n   * @category Video\n   * @aliases takeFrames,withFrames\n   *\n   * @param {Number} frames frame count\n   * @return FfmpegCommand\n   */\n  proto.takeFrames =\n  proto.withFrames =\n  proto.frames = function(frames) {\n    this._currentOutput.video('-vframes', frames);\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\n/*\n *! Size helpers\n */\n\n\n/**\n * Return filters to pad video to width*height,\n *\n * @param {Number} width output width\n * @param {Number} height output height\n * @param {Number} aspect video aspect ratio (without padding)\n * @param {Number} color padding color\n * @return scale/pad filters\n * @private\n */\nfunction getScalePadFilters(width, height, aspect, color) {\n  /*\n    let a be the input aspect ratio, A be the requested aspect ratio\n\n    if a > A, padding is done on top and bottom\n    if a < A, padding is done on left and right\n   */\n\n  return [\n    /*\n      In both cases, we first have to scale the input to match the requested size.\n      When using computed width/height, we truncate them to multiples of 2\n     */\n    {\n      filter: 'scale',\n      options: {\n        w: 'if(gt(a,' + aspect + '),' + width + ',trunc(' + height + '*a/2)*2)',\n        h: 'if(lt(a,' + aspect + '),' + height + ',trunc(' + width + '/a/2)*2)'\n      }\n    },\n\n    /*\n      Then we pad the scaled input to match the target size\n      (here iw and ih refer to the padding input, i.e the scaled output)\n     */\n\n    {\n      filter: 'pad',\n      options: {\n        w: width,\n        h: height,\n        x: 'if(gt(a,' + aspect + '),0,(' + width + '-iw)/2)',\n        y: 'if(lt(a,' + aspect + '),0,(' + height + '-ih)/2)',\n        color: color\n      }\n    }\n  ];\n}\n\n\n/**\n * Recompute size filters\n *\n * @param {Object} output\n * @param {String} key newly-added parameter name ('size', 'aspect' or 'pad')\n * @param {String} value newly-added parameter value\n * @return filter string array\n * @private\n */\nfunction createSizeFilters(output, key, value) {\n  // Store parameters\n  var data = output.sizeData = output.sizeData || {};\n  data[key] = value;\n\n  if (!('size' in data)) {\n    // No size requested, keep original size\n    return [];\n  }\n\n  // Try to match the different size string formats\n  var fixedSize = data.size.match(/([0-9]+)x([0-9]+)/);\n  var fixedWidth = data.size.match(/([0-9]+)x\\?/);\n  var fixedHeight = data.size.match(/\\?x([0-9]+)/);\n  var percentRatio = data.size.match(/\\b([0-9]{1,3})%/);\n  var width, height, aspect;\n\n  if (percentRatio) {\n    var ratio = Number(percentRatio[1]) / 100;\n    return [{\n      filter: 'scale',\n      options: {\n        w: 'trunc(iw*' + ratio + '/2)*2',\n        h: 'trunc(ih*' + ratio + '/2)*2'\n      }\n    }];\n  } else if (fixedSize) {\n    // Round target size to multiples of 2\n    width = Math.round(Number(fixedSize[1]) / 2) * 2;\n    height = Math.round(Number(fixedSize[2]) / 2) * 2;\n\n    aspect = width / height;\n\n    if (data.pad) {\n      return getScalePadFilters(width, height, aspect, data.pad);\n    } else {\n      // No autopad requested, rescale to target size\n      return [{ filter: 'scale', options: { w: width, h: height }}];\n    }\n  } else if (fixedWidth || fixedHeight) {\n    if ('aspect' in data) {\n      // Specified aspect ratio\n      width = fixedWidth ? fixedWidth[1] : Math.round(Number(fixedHeight[1]) * data.aspect);\n      height = fixedHeight ? fixedHeight[1] : Math.round(Number(fixedWidth[1]) / data.aspect);\n\n      // Round to multiples of 2\n      width = Math.round(width / 2) * 2;\n      height = Math.round(height / 2) * 2;\n\n      if (data.pad) {\n        return getScalePadFilters(width, height, data.aspect, data.pad);\n      } else {\n        // No autopad requested, rescale to target size\n        return [{ filter: 'scale', options: { w: width, h: height }}];\n      }\n    } else {\n      // Keep input aspect ratio\n\n      if (fixedWidth) {\n        return [{\n          filter: 'scale',\n          options: {\n            w: Math.round(Number(fixedWidth[1]) / 2) * 2,\n            h: 'trunc(ow/a/2)*2'\n          }\n        }];\n      } else {\n        return [{\n          filter: 'scale',\n          options: {\n            w: 'trunc(oh*a/2)*2',\n            h: Math.round(Number(fixedHeight[1]) / 2) * 2\n          }\n        }];\n      }\n    }\n  } else {\n    throw new Error('Invalid size specified: ' + data.size);\n  }\n}\n\n\n/*\n *! Video size-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Keep display aspect ratio\n   *\n   * This method is useful when converting an input with non-square pixels to an output format\n   * that does not support non-square pixels.  It rescales the input so that the display aspect\n   * ratio is the same.\n   *\n   * @method FfmpegCommand#keepDAR\n   * @category Video size\n   * @aliases keepPixelAspect,keepDisplayAspect,keepDisplayAspectRatio\n   *\n   * @return FfmpegCommand\n   */\n  proto.keepPixelAspect = // Only for compatibility, this is not about keeping _pixel_ aspect ratio\n  proto.keepDisplayAspect =\n  proto.keepDisplayAspectRatio =\n  proto.keepDAR = function() {\n    return this.videoFilters([\n      {\n        filter: 'scale',\n        options: {\n          w: 'if(gt(sar,1),iw*sar,iw)',\n          h: 'if(lt(sar,1),ih/sar,ih)'\n        }\n      },\n      {\n        filter: 'setsar',\n        options: '1'\n      }\n    ]);\n  };\n\n\n  /**\n   * Set output size\n   *\n   * The 'size' parameter can have one of 4 forms:\n   * - 'X%': rescale to xx % of the original size\n   * - 'WxH': specify width and height\n   * - 'Wx?': specify width and compute height from input aspect ratio\n   * - '?xH': specify height and compute width from input aspect ratio\n   *\n   * Note: both dimensions will be truncated to multiples of 2.\n   *\n   * @method FfmpegCommand#size\n   * @category Video size\n   * @aliases withSize,setSize\n   *\n   * @param {String} size size string, eg. '33%', '320x240', '320x?', '?x240'\n   * @return FfmpegCommand\n   */\n  proto.withSize =\n  proto.setSize =\n  proto.size = function(size) {\n    var filters = createSizeFilters(this._currentOutput, 'size', size);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n\n\n  /**\n   * Set output aspect ratio\n   *\n   * @method FfmpegCommand#aspect\n   * @category Video size\n   * @aliases withAspect,withAspectRatio,setAspect,setAspectRatio,aspectRatio\n   *\n   * @param {String|Number} aspect aspect ratio (number or 'X:Y' string)\n   * @return FfmpegCommand\n   */\n  proto.withAspect =\n  proto.withAspectRatio =\n  proto.setAspect =\n  proto.setAspectRatio =\n  proto.aspect =\n  proto.aspectRatio = function(aspect) {\n    var a = Number(aspect);\n    if (isNaN(a)) {\n      var match = aspect.match(/^(\\d+):(\\d+)$/);\n      if (match) {\n        a = Number(match[1]) / Number(match[2]);\n      } else {\n        throw new Error('Invalid aspect ratio: ' + aspect);\n      }\n    }\n\n    var filters = createSizeFilters(this._currentOutput, 'aspect', a);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n\n\n  /**\n   * Enable auto-padding the output\n   *\n   * @method FfmpegCommand#autopad\n   * @category Video size\n   * @aliases applyAutopadding,applyAutoPadding,applyAutopad,applyAutoPad,withAutopadding,withAutoPadding,withAutopad,withAutoPad,autoPad\n   *\n   * @param {Boolean} [pad=true] enable/disable auto-padding\n   * @param {String} [color='black'] pad color\n   */\n  proto.applyAutopadding =\n  proto.applyAutoPadding =\n  proto.applyAutopad =\n  proto.applyAutoPad =\n  proto.withAutopadding =\n  proto.withAutoPadding =\n  proto.withAutopad =\n  proto.withAutoPad =\n  proto.autoPad =\n  proto.autopad = function(pad, color) {\n    // Allow autopad(color)\n    if (typeof pad === 'string') {\n      color = pad;\n      pad = true;\n    }\n\n    // Allow autopad() and autopad(undefined, color)\n    if (typeof pad === 'undefined') {\n      pad = true;\n    }\n\n    var filters = createSizeFilters(this._currentOutput, 'pad', pad ? color || 'black' : false);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Output-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add output\n   *\n   * @method FfmpegCommand#output\n   * @category Output\n   * @aliases addOutput\n   *\n   * @param {String|Writable} target target file path or writable stream\n   * @param {Object} [pipeopts={}] pipe options (only applies to streams)\n   * @return FfmpegCommand\n   */\n  proto.addOutput =\n  proto.output = function(target, pipeopts) {\n    var isFile = false;\n\n    if (!target && this._currentOutput) {\n      // No target is only allowed when called from constructor\n      throw new Error('Invalid output');\n    }\n\n    if (target && typeof target !== 'string') {\n      if (!('writable' in target) || !(target.writable)) {\n        throw new Error('Invalid output');\n      }\n    } else if (typeof target === 'string') {\n      var protocol = target.match(/^([a-z]{2,}):/i);\n      isFile = !protocol || protocol[0] === 'file';\n    }\n\n    if (target && !('target' in this._currentOutput)) {\n      // For backwards compatibility, set target for first output\n      this._currentOutput.target = target;\n      this._currentOutput.isFile = isFile;\n      this._currentOutput.pipeopts = pipeopts || {};\n    } else {\n      if (target && typeof target !== 'string') {\n        var hasOutputStream = this._outputs.some(function(output) {\n          return typeof output.target !== 'string';\n        });\n\n        if (hasOutputStream) {\n          throw new Error('Only one output stream is supported');\n        }\n      }\n\n      this._outputs.push(this._currentOutput = {\n        target: target,\n        isFile: isFile,\n        flags: {},\n        pipeopts: pipeopts || {}\n      });\n\n      var self = this;\n      ['audio', 'audioFilters', 'video', 'videoFilters', 'sizeFilters', 'options'].forEach(function(key) {\n        self._currentOutput[key] = utils.args();\n      });\n\n      if (!target) {\n        // Call from constructor: remove target key\n        delete this._currentOutput.target;\n      }\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Specify output seek time\n   *\n   * @method FfmpegCommand#seek\n   * @category Input\n   * @aliases seekOutput\n   *\n   * @param {String|Number} seek seek time in seconds or as a '[hh:[mm:]]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.seekOutput =\n  proto.seek = function(seek) {\n    this._currentOutput.options('-ss', seek);\n    return this;\n  };\n\n\n  /**\n   * Set output duration\n   *\n   * @method FfmpegCommand#duration\n   * @category Output\n   * @aliases withDuration,setDuration\n   *\n   * @param {String|Number} duration duration in seconds or as a '[[hh:]mm:]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.withDuration =\n  proto.setDuration =\n  proto.duration = function(duration) {\n    this._currentOutput.options('-t', duration);\n    return this;\n  };\n\n\n  /**\n   * Set output format\n   *\n   * @method FfmpegCommand#format\n   * @category Output\n   * @aliases toFormat,withOutputFormat,outputFormat\n   *\n   * @param {String} format output format name\n   * @return FfmpegCommand\n   */\n  proto.toFormat =\n  proto.withOutputFormat =\n  proto.outputFormat =\n  proto.format = function(format) {\n    this._currentOutput.options('-f', format);\n    return this;\n  };\n\n\n  /**\n   * Add stream mapping to output\n   *\n   * @method FfmpegCommand#map\n   * @category Output\n   *\n   * @param {String} spec stream specification string, with optional square brackets\n   * @return FfmpegCommand\n   */\n  proto.map = function(spec) {\n    this._currentOutput.options('-map', spec.replace(utils.streamRegexp, '[$1]'));\n    return this;\n  };\n\n\n  /**\n   * Run flvtool2/flvmeta on output\n   *\n   * @method FfmpegCommand#flvmeta\n   * @category Output\n   * @aliases updateFlvMetadata\n   *\n   * @return FfmpegCommand\n   */\n  proto.updateFlvMetadata =\n  proto.flvmeta = function() {\n    this._currentOutput.flags.flvmeta = true;\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Custom options methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add custom input option(s)\n   *\n   * When passing a single string or an array, each string containing two\n   * words is split (eg. inputOptions('-option value') is supported) for\n   * compatibility reasons.  This is not the case when passing more than\n   * one argument.\n   *\n   * @example\n   * command.inputOptions('option1');\n   *\n   * @example\n   * command.inputOptions('option1', 'option2');\n   *\n   * @example\n   * command.inputOptions(['option1', 'option2']);\n   *\n   * @method FfmpegCommand#inputOptions\n   * @category Custom options\n   * @aliases addInputOption,addInputOptions,withInputOption,withInputOptions,inputOption\n   *\n   * @param {...String} options option string(s) or string array\n   * @return FfmpegCommand\n   */\n  proto.addInputOption =\n  proto.addInputOptions =\n  proto.withInputOption =\n  proto.withInputOptions =\n  proto.inputOption =\n  proto.inputOptions = function(options) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    var doSplit = true;\n\n    if (arguments.length > 1) {\n      options = [].slice.call(arguments);\n      doSplit = false;\n    }\n\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n\n    this._currentInput.options(options.reduce(function(options, option) {\n      var split = String(option).split(' ');\n\n      if (doSplit && split.length === 2) {\n        options.push(split[0], split[1]);\n      } else {\n        options.push(option);\n      }\n\n      return options;\n    }, []));\n    return this;\n  };\n\n\n  /**\n   * Add custom output option(s)\n   *\n   * @example\n   * command.outputOptions('option1');\n   *\n   * @example\n   * command.outputOptions('option1', 'option2');\n   *\n   * @example\n   * command.outputOptions(['option1', 'option2']);\n   *\n   * @method FfmpegCommand#outputOptions\n   * @category Custom options\n   * @aliases addOutputOption,addOutputOptions,addOption,addOptions,withOutputOption,withOutputOptions,withOption,withOptions,outputOption\n   *\n   * @param {...String} options option string(s) or string array\n   * @return FfmpegCommand\n   */\n  proto.addOutputOption =\n  proto.addOutputOptions =\n  proto.addOption =\n  proto.addOptions =\n  proto.withOutputOption =\n  proto.withOutputOptions =\n  proto.withOption =\n  proto.withOptions =\n  proto.outputOption =\n  proto.outputOptions = function(options) {\n    var doSplit = true;\n\n    if (arguments.length > 1) {\n      options = [].slice.call(arguments);\n      doSplit = false;\n    }\n\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n\n    this._currentOutput.options(options.reduce(function(options, option) {\n      var split = String(option).split(' ');\n\n      if (doSplit && split.length === 2) {\n        options.push(split[0], split[1]);\n      } else {\n        options.push(option);\n      }\n\n      return options;\n    }, []));\n    return this;\n  };\n\n\n  /**\n   * Specify a complex filtergraph\n   *\n   * Calling this method will override any previously set filtergraph, but you can set\n   * as many filters as needed in one call.\n   *\n   * @example <caption>Overlay an image over a video (using a filtergraph string)</caption>\n   *   ffmpeg()\n   *     .input('video.avi')\n   *     .input('image.png')\n   *     .complexFilter('[0:v][1:v]overlay[out]', ['out']);\n   *\n   * @example <caption>Overlay an image over a video (using a filter array)</caption>\n   *   ffmpeg()\n   *     .input('video.avi')\n   *     .input('image.png')\n   *     .complexFilter([{\n   *       filter: 'overlay',\n   *       inputs: ['0:v', '1:v'],\n   *       outputs: ['out']\n   *     }], ['out']);\n   *\n   * @example <caption>Split video into RGB channels and output a 3x1 video with channels side to side</caption>\n   *  ffmpeg()\n   *    .input('video.avi')\n   *    .complexFilter([\n   *      // Duplicate video stream 3 times into streams a, b, and c\n   *      { filter: 'split', options: '3', outputs: ['a', 'b', 'c'] },\n   *\n   *      // Create stream 'red' by cancelling green and blue channels from stream 'a'\n   *      { filter: 'lutrgb', options: { g: 0, b: 0 }, inputs: 'a', outputs: 'red' },\n   *\n   *      // Create stream 'green' by cancelling red and blue channels from stream 'b'\n   *      { filter: 'lutrgb', options: { r: 0, b: 0 }, inputs: 'b', outputs: 'green' },\n   *\n   *      // Create stream 'blue' by cancelling red and green channels from stream 'c'\n   *      { filter: 'lutrgb', options: { r: 0, g: 0 }, inputs: 'c', outputs: 'blue' },\n   *\n   *      // Pad stream 'red' to 3x width, keeping the video on the left, and name output 'padded'\n   *      { filter: 'pad', options: { w: 'iw*3', h: 'ih' }, inputs: 'red', outputs: 'padded' },\n   *\n   *      // Overlay 'green' onto 'padded', moving it to the center, and name output 'redgreen'\n   *      { filter: 'overlay', options: { x: 'w', y: 0 }, inputs: ['padded', 'green'], outputs: 'redgreen'},\n   *\n   *      // Overlay 'blue' onto 'redgreen', moving it to the right\n   *      { filter: 'overlay', options: { x: '2*w', y: 0 }, inputs: ['redgreen', 'blue']},\n   *    ]);\n   *\n   * @method FfmpegCommand#complexFilter\n   * @category Custom options\n   * @aliases filterGraph\n   *\n   * @param {String|Array} spec filtergraph string or array of filter specification\n   *   objects, each having the following properties:\n   * @param {String} spec.filter filter name\n   * @param {String|Array} [spec.inputs] (array of) input stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically choosing the first unused matching streams\n   * @param {String|Array} [spec.outputs] (array of) output stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically assigning the output to the output file\n   * @param {Object|String|Array} [spec.options] filter options, can be omitted to not set any options\n   * @param {Array} [map] (array of) stream specifier(s) from the graph to include in\n   *   ffmpeg output, defaults to ffmpeg automatically choosing the first matching streams.\n   * @return FfmpegCommand\n   */\n  proto.filterGraph =\n  proto.complexFilter = function(spec, map) {\n    this._complexFilters.clear();\n\n    if (!Array.isArray(spec)) {\n      spec = [spec];\n    }\n\n    this._complexFilters('-filter_complex', utils.makeFilterStrings(spec).join(';'));\n\n    if (Array.isArray(map)) {\n      var self = this;\n      map.forEach(function(streamSpec) {\n        self._complexFilters('-map', streamSpec.replace(utils.streamRegexp, '[$1]'));\n      });\n    } else if (typeof map === 'string') {\n      this._complexFilters('-map', map.replace(utils.streamRegexp, '[$1]'));\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar path = require('path');\n\n/*\n *! Miscellaneous methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Use preset\n   *\n   * @method FfmpegCommand#preset\n   * @category Miscellaneous\n   * @aliases usingPreset\n   *\n   * @param {String|Function} preset preset name or preset function\n   */\n  proto.usingPreset =\n  proto.preset = function(preset) {\n    if (typeof preset === 'function') {\n      preset(this);\n    } else {\n      try {\n        var modulePath = path.join(this.options.presets, preset);\n        var module = require(modulePath);\n\n        if (typeof module.load === 'function') {\n          module.load(this);\n        } else {\n          throw new Error('preset ' + modulePath + ' has no load() function');\n        }\n      } catch (err) {\n        throw new Error('preset ' + modulePath + ' could not be loaded: ' + err.message);\n      }\n    }\n\n    return this;\n  };\n};\n","/*global setImmediate: false, setTimeout: false, console: false */\n(function () {\n\n    var async = {};\n\n    // global on the server, window in the browser\n    var root, previous_async;\n\n    root = this;\n    if (root != null) {\n      previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        var called = false;\n        return function() {\n            if (called) throw new Error(\"Callback was already called.\");\n            called = true;\n            fn.apply(root, arguments);\n        }\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _each = function (arr, iterator) {\n        if (arr.forEach) {\n            return arr.forEach(iterator);\n        }\n        for (var i = 0; i < arr.length; i += 1) {\n            iterator(arr[i], i, arr);\n        }\n    };\n\n    var _map = function (arr, iterator) {\n        if (arr.map) {\n            return arr.map(iterator);\n        }\n        var results = [];\n        _each(arr, function (x, i, a) {\n            results.push(iterator(x, i, a));\n        });\n        return results;\n    };\n\n    var _reduce = function (arr, iterator, memo) {\n        if (arr.reduce) {\n            return arr.reduce(iterator, memo);\n        }\n        _each(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    };\n\n    var _keys = function (obj) {\n        if (Object.keys) {\n            return Object.keys(obj);\n        }\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        if (typeof setImmediate === 'function') {\n            async.nextTick = function (fn) {\n                // not a direct alias for IE10 compatibility\n                setImmediate(fn);\n            };\n            async.setImmediate = async.nextTick;\n        }\n        else {\n            async.nextTick = function (fn) {\n                setTimeout(fn, 0);\n            };\n            async.setImmediate = async.nextTick;\n        }\n    }\n    else {\n        async.nextTick = process.nextTick;\n        if (typeof setImmediate !== 'undefined') {\n            async.setImmediate = function (fn) {\n              // not a direct alias for IE10 compatibility\n              setImmediate(fn);\n            };\n        }\n        else {\n            async.setImmediate = async.nextTick;\n        }\n    }\n\n    async.each = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        _each(arr, function (x) {\n            iterator(x, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed >= arr.length) {\n                        callback(null);\n                    }\n                }\n            }));\n        });\n    };\n    async.forEach = async.each;\n\n    async.eachSeries = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        var iterate = function () {\n            iterator(arr[completed], function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed >= arr.length) {\n                        callback(null);\n                    }\n                    else {\n                        iterate();\n                    }\n                }\n            });\n        };\n        iterate();\n    };\n    async.forEachSeries = async.eachSeries;\n\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        var fn = _eachLimit(limit);\n        fn.apply(null, [arr, iterator, callback]);\n    };\n    async.forEachLimit = async.eachLimit;\n\n    var _eachLimit = function (limit) {\n\n        return function (arr, iterator, callback) {\n            callback = callback || function () {};\n            if (!arr.length || limit <= 0) {\n                return callback();\n            }\n            var completed = 0;\n            var started = 0;\n            var running = 0;\n\n            (function replenish () {\n                if (completed >= arr.length) {\n                    return callback();\n                }\n\n                while (running < limit && started < arr.length) {\n                    started += 1;\n                    running += 1;\n                    iterator(arr[started - 1], function (err) {\n                        if (err) {\n                            callback(err);\n                            callback = function () {};\n                        }\n                        else {\n                            completed += 1;\n                            running -= 1;\n                            if (completed >= arr.length) {\n                                callback();\n                            }\n                            else {\n                                replenish();\n                            }\n                        }\n                    });\n                }\n            })();\n        };\n    };\n\n\n    var doParallel = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.each].concat(args));\n        };\n    };\n    var doParallelLimit = function(limit, fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [_eachLimit(limit)].concat(args));\n        };\n    };\n    var doSeries = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.eachSeries].concat(args));\n        };\n    };\n\n\n    var _asyncMap = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (err, v) {\n                results[x.index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = function (arr, limit, iterator, callback) {\n        return _mapLimit(limit)(arr, iterator, callback);\n    };\n\n    var _mapLimit = function(limit) {\n        return doParallelLimit(limit, _asyncMap);\n    };\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachSeries(arr, function (x, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n    // inject alias\n    async.inject = async.reduce;\n    // foldl alias\n    async.foldl = async.reduce;\n\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n    // foldr alias\n    async.foldr = async.reduceRight;\n\n    var _filter = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.filter = doParallel(_filter);\n    async.filterSeries = doSeries(_filter);\n    // select alias\n    async.select = async.filter;\n    async.selectSeries = async.filterSeries;\n\n    var _reject = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    var _detect = function (eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = function () {};\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            main_callback();\n        });\n    };\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.some = function (arr, iterator, main_callback) {\n        async.each(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(false);\n        });\n    };\n    // any alias\n    async.any = async.some;\n\n    async.every = function (arr, iterator, main_callback) {\n        async.each(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(true);\n        });\n    };\n    // all alias\n    async.all = async.every;\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                var fn = function (left, right) {\n                    var a = left.criteria, b = right.criteria;\n                    return a < b ? -1 : a > b ? 1 : 0;\n                };\n                callback(null, _map(results.sort(fn), function (x) {\n                    return x.value;\n                }));\n            }\n        });\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = callback || function () {};\n        var keys = _keys(tasks);\n        if (!keys.length) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        var addListener = function (fn) {\n            listeners.unshift(fn);\n        };\n        var removeListener = function (fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        };\n        var taskComplete = function () {\n            _each(listeners.slice(0), function (fn) {\n                fn();\n            });\n        };\n\n        addListener(function () {\n            if (_keys(results).length === keys.length) {\n                callback(null, results);\n                callback = function () {};\n            }\n        });\n\n        _each(keys, function (k) {\n            var task = (tasks[k] instanceof Function) ? [tasks[k]]: tasks[k];\n            var taskCallback = function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _each(_keys(results), function(rkey) {\n                        safeResults[rkey] = results[rkey];\n                    });\n                    safeResults[k] = args;\n                    callback(err, safeResults);\n                    // stop subsequent errors hitting callback multiple times\n                    callback = function () {};\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            };\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            var ready = function () {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            };\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                var listener = function () {\n                    if (ready()) {\n                        removeListener(listener);\n                        task[task.length - 1](taskCallback, results);\n                    }\n                };\n                addListener(listener);\n            }\n        });\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor !== Array) {\n          var err = new Error('First argument to waterfall must be an array of functions');\n          return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        var wrapIterator = function (iterator) {\n            return function (err) {\n                if (err) {\n                    callback.apply(null, arguments);\n                    callback = function () {};\n                }\n                else {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    async.setImmediate(function () {\n                        iterator.apply(null, args);\n                    });\n                }\n            };\n        };\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    var _parallel = function(eachfn, tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            eachfn.map(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            eachfn.each(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.parallel = function (tasks, callback) {\n        _parallel({ map: async.map, each: async.each }, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel({ map: _mapLimit(limit), each: _eachLimit(limit) }, tasks, callback);\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            async.mapSeries(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            async.eachSeries(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.iterator = function (tasks) {\n        var makeCallback = function (index) {\n            var fn = function () {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            };\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        };\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(Array.prototype.slice.call(arguments))\n            );\n        };\n    };\n\n    var _concat = function (eachfn, arr, fn, callback) {\n        var r = [];\n        eachfn(arr, function (x, cb) {\n            fn(x, function (err, y) {\n                r = r.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, r);\n        });\n    };\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            if (test()) {\n                async.doWhilst(iterator, test, callback);\n            }\n            else {\n                callback();\n            }\n        });\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            if (!test()) {\n                async.doUntil(iterator, test, callback);\n            }\n            else {\n                callback();\n            }\n        });\n    };\n\n    async.queue = function (worker, concurrency) {\n        if (concurrency === undefined) {\n            concurrency = 1;\n        }\n        function _insert(q, data, pos, callback) {\n          if(data.constructor !== Array) {\n              data = [data];\n          }\n          _each(data, function(task) {\n              var item = {\n                  data: task,\n                  callback: typeof callback === 'function' ? callback : null\n              };\n\n              if (pos) {\n                q.tasks.unshift(item);\n              } else {\n                q.tasks.push(item);\n              }\n\n              if (q.saturated && q.tasks.length === concurrency) {\n                  q.saturated();\n              }\n              async.setImmediate(q.process);\n          });\n        }\n\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n              _insert(q, data, false, callback);\n            },\n            unshift: function (data, callback) {\n              _insert(q, data, true, callback);\n            },\n            process: function () {\n                if (workers < q.concurrency && q.tasks.length) {\n                    var task = q.tasks.shift();\n                    if (q.empty && q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    var next = function () {\n                        workers -= 1;\n                        if (task.callback) {\n                            task.callback.apply(task, arguments);\n                        }\n                        if (q.drain && q.tasks.length + workers === 0) {\n                            q.drain();\n                        }\n                        q.process();\n                    };\n                    var cb = only_once(next);\n                    worker(task.data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            }\n        };\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        var working     = false,\n            tasks       = [];\n\n        var cargo = {\n            tasks: tasks,\n            payload: payload,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n                if(data.constructor !== Array) {\n                    data = [data];\n                }\n                _each(data, function(task) {\n                    tasks.push({\n                        data: task,\n                        callback: typeof callback === 'function' ? callback : null\n                    });\n                    if (cargo.saturated && tasks.length === payload) {\n                        cargo.saturated();\n                    }\n                });\n                async.setImmediate(cargo.process);\n            },\n            process: function process() {\n                if (working) return;\n                if (tasks.length === 0) {\n                    if(cargo.drain) cargo.drain();\n                    return;\n                }\n\n                var ts = typeof payload === 'number'\n                            ? tasks.splice(0, payload)\n                            : tasks.splice(0);\n\n                var ds = _map(ts, function (task) {\n                    return task.data;\n                });\n\n                if(cargo.empty) cargo.empty();\n                working = true;\n                worker(ds, function () {\n                    working = false;\n\n                    var args = arguments;\n                    _each(ts, function (data) {\n                        if (data.callback) {\n                            data.callback.apply(null, args);\n                        }\n                    });\n\n                    process();\n                });\n            },\n            length: function () {\n                return tasks.length;\n            },\n            running: function () {\n                return working;\n            }\n        };\n        return cargo;\n    };\n\n    var _console_fn = function (name) {\n        return function (fn) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _each(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    };\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        var memoized = function () {\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                callback.apply(null, memo[key]);\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = arguments;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        };\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n    async.times = function (count, iterator, callback) {\n        var counter = [];\n        for (var i = 0; i < count; i++) {\n            counter.push(i);\n        }\n        return async.map(counter, iterator, callback);\n    };\n\n    async.timesSeries = function (count, iterator, callback) {\n        var counter = [];\n        for (var i = 0; i < count; i++) {\n            counter.push(i);\n        }\n        return async.mapSeries(counter, iterator, callback);\n    };\n\n    async.compose = function (/* functions... */) {\n        var fns = Array.prototype.reverse.call(arguments);\n        return function () {\n            var that = this;\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([function () {\n                    var err = arguments[0];\n                    var nextargs = Array.prototype.slice.call(arguments, 1);\n                    cb(err, nextargs);\n                }]))\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        };\n    };\n\n    var _applyEach = function (eachfn, fns /*args...*/) {\n        var go = function () {\n            var that = this;\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            return eachfn(fns, function (fn, cb) {\n                fn.apply(that, args.concat([cb]));\n            },\n            callback);\n        };\n        if (arguments.length > 2) {\n            var args = Array.prototype.slice.call(arguments, 2);\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    };\n    async.applyEach = doParallel(_applyEach);\n    async.applyEachSeries = doSeries(_applyEach);\n\n    async.forever = function (fn, callback) {\n        function next(err) {\n            if (err) {\n                if (callback) {\n                    return callback(err);\n                }\n                throw err;\n            }\n            fn(next);\n        }\n        next();\n    };\n\n    // AMD / RequireJS\n    if (typeof define !== 'undefined' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // Node.js\n    else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","/*jshint node:true*/\n'use strict';\n\nvar spawn = require('child_process').spawn;\nvar path = require('path');\nvar fs = require('fs');\nvar async = require('async');\nvar utils = require('./utils');\n\n/*\n *! Processor methods\n */\n\n\n/**\n * Run ffprobe asynchronously and store data in command\n *\n * @param {FfmpegCommand} command\n * @private\n */\nfunction runFfprobe(command) {\n  const inputProbeIndex = 0;\n  if (command._inputs[inputProbeIndex].isStream) {\n    // Don't probe input streams as this will consume them\n    return;\n  }\n  command.ffprobe(inputProbeIndex, function(err, data) {\n    command._ffprobeData = data;\n  });\n}\n\n\nmodule.exports = function(proto) {\n  /**\n   * Emitted just after ffmpeg has been spawned.\n   *\n   * @event FfmpegCommand#start\n   * @param {String} command ffmpeg command line\n   */\n\n  /**\n   * Emitted when ffmpeg reports progress information\n   *\n   * @event FfmpegCommand#progress\n   * @param {Object} progress progress object\n   * @param {Number} progress.frames number of frames transcoded\n   * @param {Number} progress.currentFps current processing speed in frames per second\n   * @param {Number} progress.currentKbps current output generation speed in kilobytes per second\n   * @param {Number} progress.targetSize current output file size\n   * @param {String} progress.timemark current video timemark\n   * @param {Number} [progress.percent] processing progress (may not be available depending on input)\n   */\n\n  /**\n   * Emitted when ffmpeg outputs to stderr\n   *\n   * @event FfmpegCommand#stderr\n   * @param {String} line stderr output line\n   */\n\n  /**\n   * Emitted when ffmpeg reports input codec data\n   *\n   * @event FfmpegCommand#codecData\n   * @param {Object} codecData codec data object\n   * @param {String} codecData.format input format name\n   * @param {String} codecData.audio input audio codec name\n   * @param {String} codecData.audio_details input audio codec parameters\n   * @param {String} codecData.video input video codec name\n   * @param {String} codecData.video_details input video codec parameters\n   */\n\n  /**\n   * Emitted when an error happens when preparing or running a command\n   *\n   * @event FfmpegCommand#error\n   * @param {Error} error error object, with optional properties 'inputStreamError' / 'outputStreamError' for errors on their respective streams\n   * @param {String|null} stdout ffmpeg stdout, unless outputting to a stream\n   * @param {String|null} stderr ffmpeg stderr\n   */\n\n  /**\n   * Emitted when a command finishes processing\n   *\n   * @event FfmpegCommand#end\n   * @param {Array|String|null} [filenames|stdout] generated filenames when taking screenshots, ffmpeg stdout when not outputting to a stream, null otherwise\n   * @param {String|null} stderr ffmpeg stderr\n   */\n\n\n  /**\n   * Spawn an ffmpeg process\n   *\n   * The 'options' argument may contain the following keys:\n   * - 'niceness': specify process niceness, ignored on Windows (default: 0)\n   * - `cwd`: change working directory\n   * - 'captureStdout': capture stdout and pass it to 'endCB' as its 2nd argument (default: false)\n   * - 'stdoutLines': override command limit (default: use command limit)\n   *\n   * The 'processCB' callback, if present, is called as soon as the process is created and\n   * receives a nodejs ChildProcess object.  It may not be called at all if an error happens\n   * before spawning the process.\n   *\n   * The 'endCB' callback is called either when an error occurs or when the ffmpeg process finishes.\n   *\n   * @method FfmpegCommand#_spawnFfmpeg\n   * @param {Array} args ffmpeg command line argument list\n   * @param {Object} [options] spawn options (see above)\n   * @param {Function} [processCB] callback called with process object and stdout/stderr ring buffers when process has been created\n   * @param {Function} endCB callback called with error (if applicable) and stdout/stderr ring buffers when process finished\n   * @private\n   */\n  proto._spawnFfmpeg = function(args, options, processCB, endCB) {\n    // Enable omitting options\n    if (typeof options === 'function') {\n      endCB = processCB;\n      processCB = options;\n      options = {};\n    }\n\n    // Enable omitting processCB\n    if (typeof endCB === 'undefined') {\n      endCB = processCB;\n      processCB = function() {};\n    }\n\n    var maxLines = 'stdoutLines' in options ? options.stdoutLines : this.options.stdoutLines;\n\n    // Find ffmpeg\n    this._getFfmpegPath(function(err, command) {\n      if (err) {\n        return endCB(err);\n      } else if (!command || command.length === 0) {\n        return endCB(new Error('Cannot find ffmpeg'));\n      }\n\n      // Apply niceness\n      if (options.niceness && options.niceness !== 0 && !utils.isWindows) {\n        args.unshift('-n', options.niceness, command);\n        command = 'nice';\n      }\n\n      var stdoutRing = utils.linesRing(maxLines);\n      var stdoutClosed = false;\n\n      var stderrRing = utils.linesRing(maxLines);\n      var stderrClosed = false;\n\n      // Spawn process\n      var ffmpegProc = spawn(command, args, options);\n\n      if (ffmpegProc.stderr) {\n        ffmpegProc.stderr.setEncoding('utf8');\n      }\n\n      ffmpegProc.on('error', function(err) {\n        endCB(err);\n      });\n\n      // Ensure we wait for captured streams to end before calling endCB\n      var exitError = null;\n      function handleExit(err) {\n        if (err) {\n          exitError = err;\n        }\n\n        if (processExited && (stdoutClosed || !options.captureStdout) && stderrClosed) {\n          endCB(exitError, stdoutRing, stderrRing);\n        }\n      }\n\n      // Handle process exit\n      var processExited = false;\n      ffmpegProc.on('exit', function(code, signal) {\n        processExited = true;\n\n        if (signal) {\n          handleExit(new Error('ffmpeg was killed with signal ' + signal));\n        } else if (code) {\n          handleExit(new Error('ffmpeg exited with code ' + code));\n        } else {\n          handleExit();\n        }\n      });\n\n      // Capture stdout if specified\n      if (options.captureStdout) {\n        ffmpegProc.stdout.on('data', function(data) {\n          stdoutRing.append(data);\n        });\n\n        ffmpegProc.stdout.on('close', function() {\n          stdoutRing.close();\n          stdoutClosed = true;\n          handleExit();\n        });\n      }\n\n      // Capture stderr if specified\n      ffmpegProc.stderr.on('data', function(data) {\n        stderrRing.append(data);\n      });\n\n      ffmpegProc.stderr.on('close', function() {\n        stderrRing.close();\n        stderrClosed = true;\n        handleExit();\n      });\n\n      // Call process callback\n      processCB(ffmpegProc, stdoutRing, stderrRing);\n    });\n  };\n\n\n  /**\n   * Build the argument list for an ffmpeg command\n   *\n   * @method FfmpegCommand#_getArguments\n   * @return argument list\n   * @private\n   */\n  proto._getArguments = function() {\n    var complexFilters = this._complexFilters.get();\n\n    var fileOutput = this._outputs.some(function(output) {\n      return output.isFile;\n    });\n\n    return [].concat(\n        // Inputs and input options\n        this._inputs.reduce(function(args, input) {\n          var source = (typeof input.source === 'string') ? input.source : 'pipe:0';\n\n          // For each input, add input options, then '-i <source>'\n          return args.concat(\n            input.options.get(),\n            ['-i', source]\n          );\n        }, []),\n\n        // Global options\n        this._global.get(),\n\n        // Overwrite if we have file outputs\n        fileOutput ? ['-y'] : [],\n\n        // Complex filters\n        complexFilters,\n\n        // Outputs, filters and output options\n        this._outputs.reduce(function(args, output) {\n          var sizeFilters = utils.makeFilterStrings(output.sizeFilters.get());\n          var audioFilters = output.audioFilters.get();\n          var videoFilters = output.videoFilters.get().concat(sizeFilters);\n          var outputArg;\n\n          if (!output.target) {\n            outputArg = [];\n          } else if (typeof output.target === 'string') {\n            outputArg = [output.target];\n          } else {\n            outputArg = ['pipe:1'];\n          }\n\n          return args.concat(\n            output.audio.get(),\n            audioFilters.length ? ['-filter:a', audioFilters.join(',')] : [],\n            output.video.get(),\n            videoFilters.length ? ['-filter:v', videoFilters.join(',')] : [],\n            output.options.get(),\n            outputArg\n          );\n        }, [])\n      );\n  };\n\n\n  /**\n   * Prepare execution of an ffmpeg command\n   *\n   * Checks prerequisites for the execution of the command (codec/format availability, flvtool...),\n   * then builds the argument list for ffmpeg and pass them to 'callback'.\n   *\n   * @method FfmpegCommand#_prepare\n   * @param {Function} callback callback with signature (err, args)\n   * @param {Boolean} [readMetadata=false] read metadata before processing\n   * @private\n   */\n  proto._prepare = function(callback, readMetadata) {\n    var self = this;\n\n    async.waterfall([\n      // Check codecs and formats\n      function(cb) {\n        self._checkCapabilities(cb);\n      },\n\n      // Read metadata if required\n      function(cb) {\n        if (!readMetadata) {\n          return cb();\n        }\n\n        self.ffprobe(0, function(err, data) {\n          if (!err) {\n            self._ffprobeData = data;\n          }\n\n          cb();\n        });\n      },\n\n      // Check for flvtool2/flvmeta if necessary\n      function(cb) {\n        var flvmeta = self._outputs.some(function(output) {\n          // Remove flvmeta flag on non-file output\n          if (output.flags.flvmeta && !output.isFile) {\n            self.logger.warn('Updating flv metadata is only supported for files');\n            output.flags.flvmeta = false;\n          }\n\n          return output.flags.flvmeta;\n        });\n\n        if (flvmeta) {\n          self._getFlvtoolPath(function(err) {\n            cb(err);\n          });\n        } else {\n          cb();\n        }\n      },\n\n      // Build argument list\n      function(cb) {\n        var args;\n        try {\n          args = self._getArguments();\n        } catch(e) {\n          return cb(e);\n        }\n\n        cb(null, args);\n      },\n\n      // Add \"-strict experimental\" option where needed\n      function(args, cb) {\n        self.availableEncoders(function(err, encoders) {\n          for (var i = 0; i < args.length; i++) {\n            if (args[i] === '-acodec' || args[i] === '-vcodec') {\n              i++;\n\n              if ((args[i] in encoders) && encoders[args[i]].experimental) {\n                args.splice(i + 1, 0, '-strict', 'experimental');\n                i += 2;\n              }\n            }\n          }\n\n          cb(null, args);\n        });\n      }\n    ], callback);\n\n    if (!readMetadata) {\n      // Read metadata as soon as 'progress' listeners are added\n\n      if (this.listeners('progress').length > 0) {\n        // Read metadata in parallel\n        runFfprobe(this);\n      } else {\n        // Read metadata as soon as the first 'progress' listener is added\n        this.once('newListener', function(event) {\n          if (event === 'progress') {\n            runFfprobe(this);\n          }\n        });\n      }\n    }\n  };\n\n\n  /**\n   * Run ffmpeg command\n   *\n   * @method FfmpegCommand#run\n   * @category Processing\n   * @aliases exec,execute\n   */\n  proto.exec =\n  proto.execute =\n  proto.run = function() {\n    var self = this;\n\n    // Check if at least one output is present\n    var outputPresent = this._outputs.some(function(output) {\n      return 'target' in output;\n    });\n\n    if (!outputPresent) {\n      throw new Error('No output specified');\n    }\n\n    // Get output stream if any\n    var outputStream = this._outputs.filter(function(output) {\n      return typeof output.target !== 'string';\n    })[0];\n\n    // Get input stream if any\n    var inputStream = this._inputs.filter(function(input) {\n      return typeof input.source !== 'string';\n    })[0];\n\n    // Ensure we send 'end' or 'error' only once\n    var ended = false;\n    function emitEnd(err, stdout, stderr) {\n      if (!ended) {\n        ended = true;\n\n        if (err) {\n          self.emit('error', err, stdout, stderr);\n        } else {\n          self.emit('end', stdout, stderr);\n        }\n      }\n    }\n\n    self._prepare(function(err, args) {\n      if (err) {\n        return emitEnd(err);\n      }\n\n      // Run ffmpeg\n      self._spawnFfmpeg(\n        args,\n        {\n          captureStdout: !outputStream,\n          niceness: self.options.niceness,\n          cwd: self.options.cwd,\n          windowsHide: true\n        }, \n\n        function processCB(ffmpegProc, stdoutRing, stderrRing) {\n          self.ffmpegProc = ffmpegProc;\n          self.emit('start', 'ffmpeg ' + args.join(' '));\n\n          // Pipe input stream if any\n          if (inputStream) {\n            inputStream.source.on('error', function(err) {\n              var reportingErr = new Error('Input stream error: ' + err.message);\n              reportingErr.inputStreamError = err;\n              emitEnd(reportingErr);\n              ffmpegProc.kill();\n            });\n\n            inputStream.source.resume();\n            inputStream.source.pipe(ffmpegProc.stdin);\n\n            // Set stdin error handler on ffmpeg (prevents nodejs catching the error, but\n            // ffmpeg will fail anyway, so no need to actually handle anything)\n            ffmpegProc.stdin.on('error', function() {});\n          }\n\n          // Setup timeout if requested\n          if (self.options.timeout) {\n            self.processTimer = setTimeout(function() {\n              var msg = 'process ran into a timeout (' + self.options.timeout + 's)';\n\n              emitEnd(new Error(msg), stdoutRing.get(), stderrRing.get());\n              ffmpegProc.kill();\n            }, self.options.timeout * 1000);\n          }\n\n\n          if (outputStream) {\n            // Pipe ffmpeg stdout to output stream\n            ffmpegProc.stdout.pipe(outputStream.target, outputStream.pipeopts);\n\n            // Handle output stream events\n            outputStream.target.on('close', function() {\n              self.logger.debug('Output stream closed, scheduling kill for ffmpeg process');\n\n              // Don't kill process yet, to give a chance to ffmpeg to\n              // terminate successfully first  This is necessary because\n              // under load, the process 'exit' event sometimes happens\n              // after the output stream 'close' event.\n              setTimeout(function() {\n                emitEnd(new Error('Output stream closed'));\n                ffmpegProc.kill();\n              }, 20);\n            });\n\n            outputStream.target.on('error', function(err) {\n              self.logger.debug('Output stream error, killing ffmpeg process');\n              var reportingErr = new Error('Output stream error: ' + err.message);\n              reportingErr.outputStreamError = err;\n              emitEnd(reportingErr, stdoutRing.get(), stderrRing.get());\n              ffmpegProc.kill('SIGKILL');\n            });\n          }\n\n          // Setup stderr handling\n          if (stderrRing) {\n\n            // 'stderr' event\n            if (self.listeners('stderr').length) {\n              stderrRing.callback(function(line) {\n                self.emit('stderr', line);\n              });\n            }\n\n            // 'codecData' event\n            if (self.listeners('codecData').length) {\n              var codecDataSent = false;\n              var codecObject = {};\n\n              stderrRing.callback(function(line) {\n                if (!codecDataSent)\n                  codecDataSent = utils.extractCodecData(self, line, codecObject);\n              });\n            }\n\n            // 'progress' event\n            if (self.listeners('progress').length) {\n              stderrRing.callback(function(line) {\n                utils.extractProgress(self, line);\n              });\n            }\n          }\n        },\n\n        function endCB(err, stdoutRing, stderrRing) {\n          clearTimeout(self.processTimer);\n          delete self.ffmpegProc;\n\n          if (err) {\n            if (err.message.match(/ffmpeg exited with code/)) {\n              // Add ffmpeg error message\n              err.message += ': ' + utils.extractError(stderrRing.get());\n            }\n\n            emitEnd(err, stdoutRing.get(), stderrRing.get());\n          } else {\n            // Find out which outputs need flv metadata\n            var flvmeta = self._outputs.filter(function(output) {\n              return output.flags.flvmeta;\n            });\n\n            if (flvmeta.length) {\n              self._getFlvtoolPath(function(err, flvtool) {\n                if (err) {\n                  return emitEnd(err);\n                }\n\n                async.each(\n                  flvmeta,\n                  function(output, cb) {\n                    spawn(flvtool, ['-U', output.target], {windowsHide: true})\n                      .on('error', function(err) {\n                        cb(new Error('Error running ' + flvtool + ' on ' + output.target + ': ' + err.message));\n                      })\n                      .on('exit', function(code, signal) {\n                        if (code !== 0 || signal) {\n                          cb(\n                            new Error(flvtool + ' ' +\n                              (signal ? 'received signal ' + signal\n                                      : 'exited with code ' + code)) +\n                              ' when running on ' + output.target\n                          );\n                        } else {\n                          cb();\n                        }\n                      });\n                  },\n                  function(err) {\n                    if (err) {\n                      emitEnd(err);\n                    } else {\n                      emitEnd(null, stdoutRing.get(), stderrRing.get());\n                    }\n                  }\n                );\n              });\n            } else {\n              emitEnd(null, stdoutRing.get(), stderrRing.get());\n            }\n          }\n        }\n      );\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Renice current and/or future ffmpeg processes\n   *\n   * Ignored on Windows platforms.\n   *\n   * @method FfmpegCommand#renice\n   * @category Processing\n   *\n   * @param {Number} [niceness=0] niceness value between -20 (highest priority) and 20 (lowest priority)\n   * @return FfmpegCommand\n   */\n  proto.renice = function(niceness) {\n    if (!utils.isWindows) {\n      niceness = niceness || 0;\n\n      if (niceness < -20 || niceness > 20) {\n        this.logger.warn('Invalid niceness value: ' + niceness + ', must be between -20 and 20');\n      }\n\n      niceness = Math.min(20, Math.max(-20, niceness));\n      this.options.niceness = niceness;\n\n      if (this.ffmpegProc) {\n        var logger = this.logger;\n        var pid = this.ffmpegProc.pid;\n        var renice = spawn('renice', [niceness, '-p', pid], {windowsHide: true});\n\n        renice.on('error', function(err) {\n          logger.warn('could not renice process ' + pid + ': ' + err.message);\n        });\n\n        renice.on('exit', function(code, signal) {\n          if (signal) {\n            logger.warn('could not renice process ' + pid + ': renice was killed by signal ' + signal);\n          } else if (code) {\n            logger.warn('could not renice process ' + pid + ': renice exited with ' + code);\n          } else {\n            logger.info('successfully reniced process ' + pid + ' to ' + niceness + ' niceness');\n          }\n        });\n      }\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Kill current ffmpeg process, if any\n   *\n   * @method FfmpegCommand#kill\n   * @category Processing\n   *\n   * @param {String} [signal=SIGKILL] signal name\n   * @return FfmpegCommand\n   */\n  proto.kill = function(signal) {\n    if (!this.ffmpegProc) {\n      this.logger.warn('No running ffmpeg process, cannot send signal');\n    } else {\n      this.ffmpegProc.kill(signal || 'SIGKILL');\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar async = require('async');\nvar utils = require('./utils');\n\n/*\n *! Capability helpers\n */\n\nvar avCodecRegexp = /^\\s*([D ])([E ])([VAS])([S ])([D ])([T ]) ([^ ]+) +(.*)$/;\nvar ffCodecRegexp = /^\\s*([D\\.])([E\\.])([VAS])([I\\.])([L\\.])([S\\.]) ([^ ]+) +(.*)$/;\nvar ffEncodersRegexp = /\\(encoders:([^\\)]+)\\)/;\nvar ffDecodersRegexp = /\\(decoders:([^\\)]+)\\)/;\nvar encodersRegexp = /^\\s*([VAS\\.])([F\\.])([S\\.])([X\\.])([B\\.])([D\\.]) ([^ ]+) +(.*)$/;\nvar formatRegexp = /^\\s*([D ])([E ])\\s+([^ ]+)\\s+(.*)$/;\nvar lineBreakRegexp = /\\r\\n|\\r|\\n/;\nvar filterRegexp = /^(?: [T\\.][S\\.][C\\.] )?([^ ]+) +(AA?|VV?|\\|)->(AA?|VV?|\\|) +(.*)$/;\n\nvar cache = {};\n\nmodule.exports = function(proto) {\n  /**\n   * Manually define the ffmpeg binary full path.\n   *\n   * @method FfmpegCommand#setFfmpegPath\n   *\n   * @param {String} ffmpegPath The full path to the ffmpeg binary.\n   * @return FfmpegCommand\n   */\n  proto.setFfmpegPath = function(ffmpegPath) {\n    cache.ffmpegPath = ffmpegPath;\n    return this;\n  };\n\n  /**\n   * Manually define the ffprobe binary full path.\n   *\n   * @method FfmpegCommand#setFfprobePath\n   *\n   * @param {String} ffprobePath The full path to the ffprobe binary.\n   * @return FfmpegCommand\n   */\n  proto.setFfprobePath = function(ffprobePath) {\n    cache.ffprobePath = ffprobePath;\n    return this;\n  };\n\n  /**\n   * Manually define the flvtool2/flvmeta binary full path.\n   *\n   * @method FfmpegCommand#setFlvtoolPath\n   *\n   * @param {String} flvtool The full path to the flvtool2 or flvmeta binary.\n   * @return FfmpegCommand\n   */\n  proto.setFlvtoolPath = function(flvtool) {\n    cache.flvtoolPath = flvtool;\n    return this;\n  };\n\n  /**\n   * Forget executable paths\n   *\n   * (only used for testing purposes)\n   *\n   * @method FfmpegCommand#_forgetPaths\n   * @private\n   */\n  proto._forgetPaths = function() {\n    delete cache.ffmpegPath;\n    delete cache.ffprobePath;\n    delete cache.flvtoolPath;\n  };\n\n  /**\n   * Check for ffmpeg availability\n   *\n   * If the FFMPEG_PATH environment variable is set, try to use it.\n   * If it is unset or incorrect, try to find ffmpeg in the PATH instead.\n   *\n   * @method FfmpegCommand#_getFfmpegPath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  proto._getFfmpegPath = function(callback) {\n    if ('ffmpegPath' in cache) {\n      return callback(null, cache.ffmpegPath);\n    }\n\n    async.waterfall([\n      // Try FFMPEG_PATH\n      function(cb) {\n        if (process.env.FFMPEG_PATH) {\n          fs.exists(process.env.FFMPEG_PATH, function(exists) {\n            if (exists) {\n              cb(null, process.env.FFMPEG_PATH);\n            } else {\n              cb(null, '');\n            }\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search in the PATH\n      function(ffmpeg, cb) {\n        if (ffmpeg.length) {\n          return cb(null, ffmpeg);\n        }\n\n        utils.which('ffmpeg', function(err, ffmpeg) {\n          cb(err, ffmpeg);\n        });\n      }\n    ], function(err, ffmpeg) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.ffmpegPath = (ffmpeg || ''));\n      }\n    });\n  };\n\n\n  /**\n   * Check for ffprobe availability\n   *\n   * If the FFPROBE_PATH environment variable is set, try to use it.\n   * If it is unset or incorrect, try to find ffprobe in the PATH instead.\n   * If this still fails, try to find ffprobe in the same directory as ffmpeg.\n   *\n   * @method FfmpegCommand#_getFfprobePath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  proto._getFfprobePath = function(callback) {\n    var self = this;\n\n    if ('ffprobePath' in cache) {\n      return callback(null, cache.ffprobePath);\n    }\n\n    async.waterfall([\n      // Try FFPROBE_PATH\n      function(cb) {\n        if (process.env.FFPROBE_PATH) {\n          fs.exists(process.env.FFPROBE_PATH, function(exists) {\n            cb(null, exists ? process.env.FFPROBE_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search in the PATH\n      function(ffprobe, cb) {\n        if (ffprobe.length) {\n          return cb(null, ffprobe);\n        }\n\n        utils.which('ffprobe', function(err, ffprobe) {\n          cb(err, ffprobe);\n        });\n      },\n\n      // Search in the same directory as ffmpeg\n      function(ffprobe, cb) {\n        if (ffprobe.length) {\n          return cb(null, ffprobe);\n        }\n\n        self._getFfmpegPath(function(err, ffmpeg) {\n          if (err) {\n            cb(err);\n          } else if (ffmpeg.length) {\n            var name = utils.isWindows ? 'ffprobe.exe' : 'ffprobe';\n            var ffprobe = path.join(path.dirname(ffmpeg), name);\n            fs.exists(ffprobe, function(exists) {\n              cb(null, exists ? ffprobe : '');\n            });\n          } else {\n            cb(null, '');\n          }\n        });\n      }\n    ], function(err, ffprobe) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.ffprobePath = (ffprobe || ''));\n      }\n    });\n  };\n\n\n  /**\n   * Check for flvtool2/flvmeta availability\n   *\n   * If the FLVTOOL2_PATH or FLVMETA_PATH environment variable are set, try to use them.\n   * If both are either unset or incorrect, try to find flvtool2 or flvmeta in the PATH instead.\n   *\n   * @method FfmpegCommand#_getFlvtoolPath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n   proto._getFlvtoolPath = function(callback) {\n    if ('flvtoolPath' in cache) {\n      return callback(null, cache.flvtoolPath);\n    }\n\n    async.waterfall([\n      // Try FLVMETA_PATH\n      function(cb) {\n        if (process.env.FLVMETA_PATH) {\n          fs.exists(process.env.FLVMETA_PATH, function(exists) {\n            cb(null, exists ? process.env.FLVMETA_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Try FLVTOOL2_PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        if (process.env.FLVTOOL2_PATH) {\n          fs.exists(process.env.FLVTOOL2_PATH, function(exists) {\n            cb(null, exists ? process.env.FLVTOOL2_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search for flvmeta in the PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        utils.which('flvmeta', function(err, flvmeta) {\n          cb(err, flvmeta);\n        });\n      },\n\n      // Search for flvtool2 in the PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        utils.which('flvtool2', function(err, flvtool2) {\n          cb(err, flvtool2);\n        });\n      },\n    ], function(err, flvtool) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.flvtoolPath = (flvtool || ''));\n      }\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableFilters}.\n   *\n   * @callback FfmpegCommand~filterCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} filters filter object with filter names as keys and the following\n   *   properties for each filter:\n   * @param {String} filters.description filter description\n   * @param {String} filters.input input type, one of 'audio', 'video' and 'none'\n   * @param {Boolean} filters.multipleInputs whether the filter supports multiple inputs\n   * @param {String} filters.output output type, one of 'audio', 'video' and 'none'\n   * @param {Boolean} filters.multipleOutputs whether the filter supports multiple outputs\n   */\n\n  /**\n   * Query ffmpeg for available filters\n   *\n   * @method FfmpegCommand#availableFilters\n   * @category Capabilities\n   * @aliases getAvailableFilters\n   *\n   * @param {FfmpegCommand~filterCallback} callback callback function\n   */\n  proto.availableFilters =\n  proto.getAvailableFilters = function(callback) {\n    if ('filters' in cache) {\n      return callback(null, cache.filters);\n    }\n\n    this._spawnFfmpeg(['-filters'], { captureStdout: true, stdoutLines: 0 }, function (err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split('\\n');\n      var data = {};\n      var types = { A: 'audio', V: 'video', '|': 'none' };\n\n      lines.forEach(function(line) {\n        var match = line.match(filterRegexp);\n        if (match) {\n          data[match[1]] = {\n            description: match[4],\n            input: types[match[2].charAt(0)],\n            multipleInputs: match[2].length > 1,\n            output: types[match[3].charAt(0)],\n            multipleOutputs: match[3].length > 1\n          };\n        }\n      });\n\n      callback(null, cache.filters = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableCodecs}.\n   *\n   * @callback FfmpegCommand~codecCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} codecs codec object with codec names as keys and the following\n   *   properties for each codec (more properties may be available depending on the\n   *   ffmpeg version used):\n   * @param {String} codecs.description codec description\n   * @param {Boolean} codecs.canDecode whether the codec is able to decode streams\n   * @param {Boolean} codecs.canEncode whether the codec is able to encode streams\n   */\n\n  /**\n   * Query ffmpeg for available codecs\n   *\n   * @method FfmpegCommand#availableCodecs\n   * @category Capabilities\n   * @aliases getAvailableCodecs\n   *\n   * @param {FfmpegCommand~codecCallback} callback callback function\n   */\n  proto.availableCodecs =\n  proto.getAvailableCodecs = function(callback) {\n    if ('codecs' in cache) {\n      return callback(null, cache.codecs);\n    }\n\n    this._spawnFfmpeg(['-codecs'], { captureStdout: true, stdoutLines: 0 }, function(err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(avCodecRegexp);\n        if (match && match[7] !== '=') {\n          data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[3]],\n            description: match[8],\n            canDecode: match[1] === 'D',\n            canEncode: match[2] === 'E',\n            drawHorizBand: match[4] === 'S',\n            directRendering: match[5] === 'D',\n            weirdFrameTruncation: match[6] === 'T'\n          };\n        }\n\n        match = line.match(ffCodecRegexp);\n        if (match && match[7] !== '=') {\n          var codecData = data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[3]],\n            description: match[8],\n            canDecode: match[1] === 'D',\n            canEncode: match[2] === 'E',\n            intraFrameOnly: match[4] === 'I',\n            isLossy: match[5] === 'L',\n            isLossless: match[6] === 'S'\n          };\n\n          var encoders = codecData.description.match(ffEncodersRegexp);\n          encoders = encoders ? encoders[1].trim().split(' ') : [];\n\n          var decoders = codecData.description.match(ffDecodersRegexp);\n          decoders = decoders ? decoders[1].trim().split(' ') : [];\n\n          if (encoders.length || decoders.length) {\n            var coderData = {};\n            utils.copy(codecData, coderData);\n            delete coderData.canEncode;\n            delete coderData.canDecode;\n\n            encoders.forEach(function(name) {\n              data[name] = {};\n              utils.copy(coderData, data[name]);\n              data[name].canEncode = true;\n            });\n\n            decoders.forEach(function(name) {\n              if (name in data) {\n                data[name].canDecode = true;\n              } else {\n                data[name] = {};\n                utils.copy(coderData, data[name]);\n                data[name].canDecode = true;\n              }\n            });\n          }\n        }\n      });\n\n      callback(null, cache.codecs = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableEncoders}.\n   *\n   * @callback FfmpegCommand~encodersCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} encoders encoders object with encoder names as keys and the following\n   *   properties for each encoder:\n   * @param {String} encoders.description codec description\n   * @param {Boolean} encoders.type \"audio\", \"video\" or \"subtitle\"\n   * @param {Boolean} encoders.frameMT whether the encoder is able to do frame-level multithreading\n   * @param {Boolean} encoders.sliceMT whether the encoder is able to do slice-level multithreading\n   * @param {Boolean} encoders.experimental whether the encoder is experimental\n   * @param {Boolean} encoders.drawHorizBand whether the encoder supports draw_horiz_band\n   * @param {Boolean} encoders.directRendering whether the encoder supports direct encoding method 1\n   */\n\n  /**\n   * Query ffmpeg for available encoders\n   *\n   * @method FfmpegCommand#availableEncoders\n   * @category Capabilities\n   * @aliases getAvailableEncoders\n   *\n   * @param {FfmpegCommand~encodersCallback} callback callback function\n   */\n  proto.availableEncoders =\n  proto.getAvailableEncoders = function(callback) {\n    if ('encoders' in cache) {\n      return callback(null, cache.encoders);\n    }\n\n    this._spawnFfmpeg(['-encoders'], { captureStdout: true, stdoutLines: 0 }, function(err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(encodersRegexp);\n        if (match && match[7] !== '=') {\n          data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[1]],\n            description: match[8],\n            frameMT: match[2] === 'F',\n            sliceMT: match[3] === 'S',\n            experimental: match[4] === 'X',\n            drawHorizBand: match[5] === 'B',\n            directRendering: match[6] === 'D'\n          };\n        }\n      });\n\n      callback(null, cache.encoders = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableFormats}.\n   *\n   * @callback FfmpegCommand~formatCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} formats format object with format names as keys and the following\n   *   properties for each format:\n   * @param {String} formats.description format description\n   * @param {Boolean} formats.canDemux whether the format is able to demux streams from an input file\n   * @param {Boolean} formats.canMux whether the format is able to mux streams into an output file\n   */\n\n  /**\n   * Query ffmpeg for available formats\n   *\n   * @method FfmpegCommand#availableFormats\n   * @category Capabilities\n   * @aliases getAvailableFormats\n   *\n   * @param {FfmpegCommand~formatCallback} callback callback function\n   */\n  proto.availableFormats =\n  proto.getAvailableFormats = function(callback) {\n    if ('formats' in cache) {\n      return callback(null, cache.formats);\n    }\n\n    // Run ffmpeg -formats\n    this._spawnFfmpeg(['-formats'], { captureStdout: true, stdoutLines: 0 }, function (err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      // Parse output\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(formatRegexp);\n        if (match) {\n          match[3].split(',').forEach(function(format) {\n            if (!(format in data)) {\n              data[format] = {\n                description: match[4],\n                canDemux: false,\n                canMux: false\n              };\n            }\n\n            if (match[1] === 'D') {\n              data[format].canDemux = true;\n            }\n            if (match[2] === 'E') {\n              data[format].canMux = true;\n            }\n          });\n        }\n      });\n\n      callback(null, cache.formats = data);\n    });\n  };\n\n\n  /**\n   * Check capabilities before executing a command\n   *\n   * Checks whether all used codecs and formats are indeed available\n   *\n   * @method FfmpegCommand#_checkCapabilities\n   * @param {Function} callback callback with signature (err)\n   * @private\n   */\n  proto._checkCapabilities = function(callback) {\n    var self = this;\n    async.waterfall([\n      // Get available formats\n      function(cb) {\n        self.availableFormats(cb);\n      },\n\n      // Check whether specified formats are available\n      function(formats, cb) {\n        var unavailable;\n\n        // Output format(s)\n        unavailable = self._outputs\n          .reduce(function(fmts, output) {\n            var format = output.options.find('-f', 1);\n            if (format) {\n              if (!(format[0] in formats) || !(formats[format[0]].canMux)) {\n                fmts.push(format);\n              }\n            }\n\n            return fmts;\n          }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Output format ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Output formats ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        // Input format(s)\n        unavailable = self._inputs\n          .reduce(function(fmts, input) {\n            var format = input.options.find('-f', 1);\n            if (format) {\n              if (!(format[0] in formats) || !(formats[format[0]].canDemux)) {\n                fmts.push(format[0]);\n              }\n            }\n\n            return fmts;\n          }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Input format ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Input formats ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        cb();\n      },\n\n      // Get available codecs\n      function(cb) {\n        self.availableEncoders(cb);\n      },\n\n      // Check whether specified codecs are available and add strict experimental options if needed\n      function(encoders, cb) {\n        var unavailable;\n\n        // Audio codec(s)\n        unavailable = self._outputs.reduce(function(cdcs, output) {\n          var acodec = output.audio.find('-acodec', 1);\n          if (acodec && acodec[0] !== 'copy') {\n            if (!(acodec[0] in encoders) || encoders[acodec[0]].type !== 'audio') {\n              cdcs.push(acodec[0]);\n            }\n          }\n\n          return cdcs;\n        }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Audio codec ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Audio codecs ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        // Video codec(s)\n        unavailable = self._outputs.reduce(function(cdcs, output) {\n          var vcodec = output.video.find('-vcodec', 1);\n          if (vcodec && vcodec[0] !== 'copy') {\n            if (!(vcodec[0] in encoders) || encoders[vcodec[0]].type !== 'video') {\n              cdcs.push(vcodec[0]);\n            }\n          }\n\n          return cdcs;\n        }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Video codec ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Video codecs ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        cb();\n      }\n    ], callback);\n  };\n};\n","/*jshint node:true, laxcomma:true*/\n'use strict';\n\nvar spawn = require('child_process').spawn;\n\n\nfunction legacyTag(key) { return key.match(/^TAG:/); }\nfunction legacyDisposition(key) { return key.match(/^DISPOSITION:/); }\n\nfunction parseFfprobeOutput(out) {\n  var lines = out.split(/\\r\\n|\\r|\\n/);\n\n  lines = lines.filter(function (line) {\n    return line.length > 0;\n  });\n\n  var data = {\n    streams: [],\n    format: {},\n    chapters: []\n  };\n\n  function parseBlock(name) {\n    var data = {};\n\n    var line = lines.shift();\n    while (typeof line !== 'undefined') {\n      if (line.toLowerCase() == '[/'+name+']') {\n        return data;\n      } else if (line.match(/^\\[/)) {\n        line = lines.shift();\n        continue;\n      }\n\n      var kv = line.match(/^([^=]+)=(.*)$/);\n      if (kv) {\n        if (!(kv[1].match(/^TAG:/)) && kv[2].match(/^[0-9]+(\\.[0-9]+)?$/)) {\n          data[kv[1]] = Number(kv[2]);\n        } else {\n          data[kv[1]] = kv[2];\n        }\n      }\n\n      line = lines.shift();\n    }\n\n    return data;\n  }\n\n  var line = lines.shift();\n  while (typeof line !== 'undefined') {\n    if (line.match(/^\\[stream/i)) {\n      var stream = parseBlock('stream');\n      data.streams.push(stream);\n    } else if (line.match(/^\\[chapter/i)) {\n      var chapter = parseBlock('chapter');\n      data.chapters.push(chapter);\n    } else if (line.toLowerCase() === '[format]') {\n      data.format = parseBlock('format');\n    }\n\n    line = lines.shift();\n  }\n\n  return data;\n}\n\n\n\nmodule.exports = function(proto) {\n  /**\n   * A callback passed to the {@link FfmpegCommand#ffprobe} method.\n   *\n   * @callback FfmpegCommand~ffprobeCallback\n   *\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} ffprobeData ffprobe output data; this object\n   *   has the same format as what the following command returns:\n   *\n   *     `ffprobe -print_format json -show_streams -show_format INPUTFILE`\n   * @param {Array} ffprobeData.streams stream information\n   * @param {Object} ffprobeData.format format information\n   */\n\n  /**\n   * Run ffprobe on last specified input\n   *\n   * @method FfmpegCommand#ffprobe\n   * @category Metadata\n   *\n   * @param {?Number} [index] 0-based index of input to probe (defaults to last input)\n   * @param {?String[]} [options] array of output options to return\n   * @param {FfmpegCommand~ffprobeCallback} callback callback function\n   *\n   */\n  proto.ffprobe = function() {\n    var input, index = null, options = [], callback;\n\n    // the last argument should be the callback\n    var callback = arguments[arguments.length - 1];\n\n    var ended = false\n    function handleCallback(err, data) {\n      if (!ended) {\n        ended = true;\n        callback(err, data);\n      }\n    };\n\n    // map the arguments to the correct variable names\n    switch (arguments.length) {\n      case 3:\n        index = arguments[0];\n        options = arguments[1];\n        break;\n      case 2:\n        if (typeof arguments[0] === 'number') {\n          index = arguments[0];\n        } else if (Array.isArray(arguments[0])) {\n          options = arguments[0];\n        }\n        break;\n    }\n\n\n    if (index === null) {\n      if (!this._currentInput) {\n        return handleCallback(new Error('No input specified'));\n      }\n\n      input = this._currentInput;\n    } else {\n      input = this._inputs[index];\n\n      if (!input) {\n        return handleCallback(new Error('Invalid input index'));\n      }\n    }\n\n    // Find ffprobe\n    this._getFfprobePath(function(err, path) {\n      if (err) {\n        return handleCallback(err);\n      } else if (!path) {\n        return handleCallback(new Error('Cannot find ffprobe'));\n      }\n\n      var stdout = '';\n      var stdoutClosed = false;\n      var stderr = '';\n      var stderrClosed = false;\n\n      // Spawn ffprobe\n      var src = input.isStream ? 'pipe:0' : input.source;\n      var ffprobe = spawn(path, ['-show_streams', '-show_format'].concat(options, src), {windowsHide: true});\n\n      if (input.isStream) {\n        // Skip errors on stdin. These get thrown when ffprobe is complete and\n        // there seems to be no way hook in and close stdin before it throws.\n        ffprobe.stdin.on('error', function(err) {\n          if (['ECONNRESET', 'EPIPE', 'EOF'].indexOf(err.code) >= 0) { return; }\n          handleCallback(err);\n        });\n\n        // Once ffprobe's input stream closes, we need no more data from the\n        // input\n        ffprobe.stdin.on('close', function() {\n            input.source.pause();\n            input.source.unpipe(ffprobe.stdin);\n        });\n\n        input.source.pipe(ffprobe.stdin);\n      }\n\n      ffprobe.on('error', callback);\n\n      // Ensure we wait for captured streams to end before calling callback\n      var exitError = null;\n      function handleExit(err) {\n        if (err) {\n          exitError = err;\n        }\n\n        if (processExited && stdoutClosed && stderrClosed) {\n          if (exitError) {\n            if (stderr) {\n              exitError.message += '\\n' + stderr;\n            }\n\n            return handleCallback(exitError);\n          }\n\n          // Process output\n          var data = parseFfprobeOutput(stdout);\n\n          // Handle legacy output with \"TAG:x\" and \"DISPOSITION:x\" keys\n          [data.format].concat(data.streams).forEach(function(target) {\n            if (target) {\n              var legacyTagKeys = Object.keys(target).filter(legacyTag);\n\n              if (legacyTagKeys.length) {\n                target.tags = target.tags || {};\n\n                legacyTagKeys.forEach(function(tagKey) {\n                  target.tags[tagKey.substr(4)] = target[tagKey];\n                  delete target[tagKey];\n                });\n              }\n\n              var legacyDispositionKeys = Object.keys(target).filter(legacyDisposition);\n\n              if (legacyDispositionKeys.length) {\n                target.disposition = target.disposition || {};\n\n                legacyDispositionKeys.forEach(function(dispositionKey) {\n                  target.disposition[dispositionKey.substr(12)] = target[dispositionKey];\n                  delete target[dispositionKey];\n                });\n              }\n            }\n          });\n\n          handleCallback(null, data);\n        }\n      }\n\n      // Handle ffprobe exit\n      var processExited = false;\n      ffprobe.on('exit', function(code, signal) {\n        processExited = true;\n\n        if (code) {\n          handleExit(new Error('ffprobe exited with code ' + code));\n        } else if (signal) {\n          handleExit(new Error('ffprobe was killed with signal ' + signal));\n        } else {\n          handleExit();\n        }\n      });\n\n      // Handle stdout/stderr streams\n      ffprobe.stdout.on('data', function(data) {\n        stdout += data;\n      });\n\n      ffprobe.stdout.on('close', function() {\n        stdoutClosed = true;\n        handleExit();\n      });\n\n      ffprobe.stderr.on('data', function(data) {\n        stderr += data;\n      });\n\n      ffprobe.stderr.on('close', function() {\n        stderrClosed = true;\n        handleExit();\n      });\n    });\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar PassThrough = require('stream').PassThrough;\nvar async = require('async');\nvar utils = require('./utils');\n\n\n/*\n * Useful recipes for commands\n */\n\nmodule.exports = function recipes(proto) {\n  /**\n   * Execute ffmpeg command and save output to a file\n   *\n   * @method FfmpegCommand#save\n   * @category Processing\n   * @aliases saveToFile\n   *\n   * @param {String} output file path\n   * @return FfmpegCommand\n   */\n  proto.saveToFile =\n  proto.save = function(output) {\n    this.output(output).run();\n    return this;\n  };\n\n\n  /**\n   * Execute ffmpeg command and save output to a stream\n   *\n   * If 'stream' is not specified, a PassThrough stream is created and returned.\n   * 'options' will be used when piping ffmpeg output to the output stream\n   * (@see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options)\n   *\n   * @method FfmpegCommand#pipe\n   * @category Processing\n   * @aliases stream,writeToStream\n   *\n   * @param {stream.Writable} [stream] output stream\n   * @param {Object} [options={}] pipe options\n   * @return Output stream\n   */\n  proto.writeToStream =\n  proto.pipe =\n  proto.stream = function(stream, options) {\n    if (stream && !('writable' in stream)) {\n      options = stream;\n      stream = undefined;\n    }\n\n    if (!stream) {\n      if (process.version.match(/v0\\.8\\./)) {\n        throw new Error('PassThrough stream is not supported on node v0.8');\n      }\n\n      stream = new PassThrough();\n    }\n\n    this.output(stream, options).run();\n    return stream;\n  };\n\n\n  /**\n   * Generate images from a video\n   *\n   * Note: this method makes the command emit a 'filenames' event with an array of\n   * the generated image filenames.\n   *\n   * @method FfmpegCommand#screenshots\n   * @category Processing\n   * @aliases takeScreenshots,thumbnail,thumbnails,screenshot\n   *\n   * @param {Number|Object} [config=1] screenshot count or configuration object with\n   *   the following keys:\n   * @param {Number} [config.count] number of screenshots to take; using this option\n   *   takes screenshots at regular intervals (eg. count=4 would take screens at 20%, 40%,\n   *   60% and 80% of the video length).\n   * @param {String} [config.folder='.'] output folder\n   * @param {String} [config.filename='tn.png'] output filename pattern, may contain the following\n   *   tokens:\n   *   - '%s': offset in seconds\n   *   - '%w': screenshot width\n   *   - '%h': screenshot height\n   *   - '%r': screenshot resolution (same as '%wx%h')\n   *   - '%f': input filename\n   *   - '%b': input basename (filename w/o extension)\n   *   - '%i': index of screenshot in timemark array (can be zero-padded by using it like `%000i`)\n   * @param {Number[]|String[]} [config.timemarks] array of timemarks to take screenshots\n   *   at; each timemark may be a number of seconds, a '[[hh:]mm:]ss[.xxx]' string or a\n   *   'XX%' string.  Overrides 'count' if present.\n   * @param {Number[]|String[]} [config.timestamps] alias for 'timemarks'\n   * @param {Boolean} [config.fastSeek] use fast seek (less accurate)\n   * @param {String} [config.size] screenshot size, with the same syntax as {@link FfmpegCommand#size}\n   * @param {String} [folder] output folder (legacy alias for 'config.folder')\n   * @return FfmpegCommand\n   */\n  proto.takeScreenshots =\n  proto.thumbnail =\n  proto.thumbnails =\n  proto.screenshot =\n  proto.screenshots = function(config, folder) {\n    var self = this;\n    var source = this._currentInput.source;\n    config = config || { count: 1 };\n\n    // Accept a number of screenshots instead of a config object\n    if (typeof config === 'number') {\n      config = {\n        count: config\n      };\n    }\n\n    // Accept a second 'folder' parameter instead of config.folder\n    if (!('folder' in config)) {\n      config.folder = folder || '.';\n    }\n\n    // Accept 'timestamps' instead of 'timemarks'\n    if ('timestamps' in config) {\n      config.timemarks = config.timestamps;\n    }\n\n    // Compute timemarks from count if not present\n    if (!('timemarks' in config)) {\n      if (!config.count) {\n        throw new Error('Cannot take screenshots: neither a count nor a timemark list are specified');\n      }\n\n      var interval = 100 / (1 + config.count);\n      config.timemarks = [];\n      for (var i = 0; i < config.count; i++) {\n        config.timemarks.push((interval * (i + 1)) + '%');\n      }\n    }\n\n    // Parse size option\n    if ('size' in config) {\n      var fixedSize = config.size.match(/^(\\d+)x(\\d+)$/);\n      var fixedWidth = config.size.match(/^(\\d+)x\\?$/);\n      var fixedHeight = config.size.match(/^\\?x(\\d+)$/);\n      var percentSize = config.size.match(/^(\\d+)%$/);\n\n      if (!fixedSize && !fixedWidth && !fixedHeight && !percentSize) {\n        throw new Error('Invalid size parameter: ' + config.size);\n      }\n    }\n\n    // Metadata helper\n    var metadata;\n    function getMetadata(cb) {\n      if (metadata) {\n        cb(null, metadata);\n      } else {\n        self.ffprobe(function(err, meta) {\n          metadata = meta;\n          cb(err, meta);\n        });\n      }\n    }\n\n    async.waterfall([\n      // Compute percent timemarks if any\n      function computeTimemarks(next) {\n        if (config.timemarks.some(function(t) { return ('' + t).match(/^[\\d.]+%$/); })) {\n          if (typeof source !== 'string') {\n            return next(new Error('Cannot compute screenshot timemarks with an input stream, please specify fixed timemarks'));\n          }\n\n          getMetadata(function(err, meta) {\n            if (err) {\n              next(err);\n            } else {\n              // Select video stream with the highest resolution\n              var vstream = meta.streams.reduce(function(biggest, stream) {\n                if (stream.codec_type === 'video' && stream.width * stream.height > biggest.width * biggest.height) {\n                  return stream;\n                } else {\n                  return biggest;\n                }\n              }, { width: 0, height: 0 });\n\n              if (vstream.width === 0) {\n                return next(new Error('No video stream in input, cannot take screenshots'));\n              }\n\n              var duration = Number(vstream.duration);\n              if (isNaN(duration)) {\n                duration = Number(meta.format.duration);\n              }\n\n              if (isNaN(duration)) {\n                return next(new Error('Could not get input duration, please specify fixed timemarks'));\n              }\n\n              config.timemarks = config.timemarks.map(function(mark) {\n                if (('' + mark).match(/^([\\d.]+)%$/)) {\n                  return duration * parseFloat(mark) / 100;\n                } else {\n                  return mark;\n                }\n              });\n\n              next();\n            }\n          });\n        } else {\n          next();\n        }\n      },\n\n      // Turn all timemarks into numbers and sort them\n      function normalizeTimemarks(next) {\n        config.timemarks = config.timemarks.map(function(mark) {\n          return utils.timemarkToSeconds(mark);\n        }).sort(function(a, b) { return a - b; });\n\n        next();\n      },\n\n      // Add '_%i' to pattern when requesting multiple screenshots and no variable token is present\n      function fixPattern(next) {\n        var pattern = config.filename || 'tn.png';\n\n        if (pattern.indexOf('.') === -1) {\n          pattern += '.png';\n        }\n\n        if (config.timemarks.length > 1 && !pattern.match(/%(s|0*i)/)) {\n          var ext = path.extname(pattern);\n          pattern = path.join(path.dirname(pattern), path.basename(pattern, ext) + '_%i' + ext);\n        }\n\n        next(null, pattern);\n      },\n\n      // Replace filename tokens (%f, %b) in pattern\n      function replaceFilenameTokens(pattern, next) {\n        if (pattern.match(/%[bf]/)) {\n          if (typeof source !== 'string') {\n            return next(new Error('Cannot replace %f or %b when using an input stream'));\n          }\n\n          pattern = pattern\n            .replace(/%f/g, path.basename(source))\n            .replace(/%b/g, path.basename(source, path.extname(source)));\n        }\n\n        next(null, pattern);\n      },\n\n      // Compute size if needed\n      function getSize(pattern, next) {\n        if (pattern.match(/%[whr]/)) {\n          if (fixedSize) {\n            return next(null, pattern, fixedSize[1], fixedSize[2]);\n          }\n\n          getMetadata(function(err, meta) {\n            if (err) {\n              return next(new Error('Could not determine video resolution to replace %w, %h or %r'));\n            }\n\n            var vstream = meta.streams.reduce(function(biggest, stream) {\n              if (stream.codec_type === 'video' && stream.width * stream.height > biggest.width * biggest.height) {\n                return stream;\n              } else {\n                return biggest;\n              }\n            }, { width: 0, height: 0 });\n\n            if (vstream.width === 0) {\n              return next(new Error('No video stream in input, cannot replace %w, %h or %r'));\n            }\n\n            var width = vstream.width;\n            var height = vstream.height;\n\n            if (fixedWidth) {\n              height = height * Number(fixedWidth[1]) / width;\n              width = Number(fixedWidth[1]);\n            } else if (fixedHeight) {\n              width = width * Number(fixedHeight[1]) / height;\n              height = Number(fixedHeight[1]);\n            } else if (percentSize) {\n              width = width * Number(percentSize[1]) / 100;\n              height = height * Number(percentSize[1]) / 100;\n            }\n\n            next(null, pattern, Math.round(width / 2) * 2, Math.round(height / 2) * 2);\n          });\n        } else {\n          next(null, pattern, -1, -1);\n        }\n      },\n\n      // Replace size tokens (%w, %h, %r) in pattern\n      function replaceSizeTokens(pattern, width, height, next) {\n        pattern = pattern\n          .replace(/%r/g, '%wx%h')\n          .replace(/%w/g, width)\n          .replace(/%h/g, height);\n\n        next(null, pattern);\n      },\n\n      // Replace variable tokens in pattern (%s, %i) and generate filename list\n      function replaceVariableTokens(pattern, next) {\n        var filenames = config.timemarks.map(function(t, i) {\n          return pattern\n            .replace(/%s/g, utils.timemarkToSeconds(t))\n            .replace(/%(0*)i/g, function(match, padding) {\n              var idx = '' + (i + 1);\n              return padding.substr(0, Math.max(0, padding.length + 1 - idx.length)) + idx;\n            });\n        });\n\n        self.emit('filenames', filenames);\n        next(null, filenames);\n      },\n\n      // Create output directory\n      function createDirectory(filenames, next) {\n        fs.exists(config.folder, function(exists) {\n          if (!exists) {\n            fs.mkdir(config.folder, function(err) {\n              if (err) {\n                next(err);\n              } else {\n                next(null, filenames);\n              }\n            });\n          } else {\n            next(null, filenames);\n          }\n        });\n      }\n    ], function runCommand(err, filenames) {\n      if (err) {\n        return self.emit('error', err);\n      }\n\n      var count = config.timemarks.length;\n      var split;\n      var filters = [split = {\n        filter: 'split',\n        options: count,\n        outputs: []\n      }];\n\n      if ('size' in config) {\n        // Set size to generate size filters\n        self.size(config.size);\n\n        // Get size filters and chain them with 'sizeN' stream names\n        var sizeFilters =  self._currentOutput.sizeFilters.get().map(function(f, i) {\n          if (i > 0) {\n            f.inputs = 'size' + (i - 1);\n          }\n\n          f.outputs = 'size' + i;\n\n          return f;\n        });\n\n        // Input last size filter output into split filter\n        split.inputs = 'size' + (sizeFilters.length - 1);\n\n        // Add size filters in front of split filter\n        filters = sizeFilters.concat(filters);\n\n        // Remove size filters\n        self._currentOutput.sizeFilters.clear();\n      }\n\n      var first = 0;\n      for (var i = 0; i < count; i++) {\n        var stream = 'screen' + i;\n        split.outputs.push(stream);\n\n        if (i === 0) {\n          first = config.timemarks[i];\n          self.seekInput(first);\n        }\n\n        self.output(path.join(config.folder, filenames[i]))\n          .frames(1)\n          .map(stream);\n\n        if (i > 0) {\n          self.seek(config.timemarks[i] - first);\n        }\n      }\n\n      self.complexFilter(filters);\n      self.run();\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Merge (concatenate) inputs to a single file\n   *\n   * @method FfmpegCommand#concat\n   * @category Processing\n   * @aliases concatenate,mergeToFile\n   *\n   * @param {String|Writable} target output file or writable stream\n   * @param {Object} [options] pipe options (only used when outputting to a writable stream)\n   * @return FfmpegCommand\n   */\n  proto.mergeToFile =\n  proto.concatenate =\n  proto.concat = function(target, options) {\n    // Find out which streams are present in the first non-stream input\n    var fileInput = this._inputs.filter(function(input) {\n      return !input.isStream;\n    })[0];\n\n    var self = this;\n    this.ffprobe(this._inputs.indexOf(fileInput), function(err, data) {\n      if (err) {\n        return self.emit('error', err);\n      }\n\n      var hasAudioStreams = data.streams.some(function(stream) {\n        return stream.codec_type === 'audio';\n      });\n\n      var hasVideoStreams = data.streams.some(function(stream) {\n        return stream.codec_type === 'video';\n      });\n\n      // Setup concat filter and start processing\n      self.output(target, options)\n        .complexFilter({\n          filter: 'concat',\n          options: {\n            n: self._inputs.length,\n            v: hasVideoStreams ? 1 : 0,\n            a: hasAudioStreams ? 1 : 0\n          }\n        })\n        .run();\n    });\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar path = require('path');\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\n\nvar utils = require('./utils');\nvar ARGLISTS = ['_global', '_audio', '_audioFilters', '_video', '_videoFilters', '_sizeFilters', '_complexFilters'];\n\n\n/**\n * Create an ffmpeg command\n *\n * Can be called with or without the 'new' operator, and the 'input' parameter\n * may be specified as 'options.source' instead (or passed later with the\n * addInput method).\n *\n * @constructor\n * @param {String|ReadableStream} [input] input file path or readable stream\n * @param {Object} [options] command options\n * @param {Object} [options.logger=<no logging>] logger object with 'error', 'warning', 'info' and 'debug' methods\n * @param {Number} [options.niceness=0] ffmpeg process niceness, ignored on Windows\n * @param {Number} [options.priority=0] alias for `niceness`\n * @param {String} [options.presets=\"fluent-ffmpeg/lib/presets\"] directory to load presets from\n * @param {String} [options.preset=\"fluent-ffmpeg/lib/presets\"] alias for `presets`\n * @param {String} [options.stdoutLines=100] maximum lines of ffmpeg output to keep in memory, use 0 for unlimited\n * @param {Number} [options.timeout=<no timeout>] ffmpeg processing timeout in seconds\n * @param {String|ReadableStream} [options.source=<no input>] alias for the `input` parameter\n */\nfunction FfmpegCommand(input, options) {\n  // Make 'new' optional\n  if (!(this instanceof FfmpegCommand)) {\n    return new FfmpegCommand(input, options);\n  }\n\n  EventEmitter.call(this);\n\n  if (typeof input === 'object' && !('readable' in input)) {\n    // Options object passed directly\n    options = input;\n  } else {\n    // Input passed first\n    options = options || {};\n    options.source = input;\n  }\n\n  // Add input if present\n  this._inputs = [];\n  if (options.source) {\n    this.input(options.source);\n  }\n\n  // Add target-less output for backwards compatibility\n  this._outputs = [];\n  this.output();\n\n  // Create argument lists\n  var self = this;\n  ['_global', '_complexFilters'].forEach(function(prop) {\n    self[prop] = utils.args();\n  });\n\n  // Set default option values\n  options.stdoutLines = 'stdoutLines' in options ? options.stdoutLines : 100;\n  options.presets = options.presets || options.preset || path.join(__dirname, 'presets');\n  options.niceness = options.niceness || options.priority || 0;\n\n  // Save options\n  this.options = options;\n\n  // Setup logger\n  this.logger = options.logger || {\n    debug: function() {},\n    info: function() {},\n    warn: function() {},\n    error: function() {}\n  };\n}\nutil.inherits(FfmpegCommand, EventEmitter);\nmodule.exports = FfmpegCommand;\n\n\n/**\n * Clone an ffmpeg command\n *\n * This method is useful when you want to process the same input multiple times.\n * It returns a new FfmpegCommand instance with the exact same options.\n *\n * All options set _after_ the clone() call will only be applied to the instance\n * it has been called on.\n *\n * @example\n *   var command = ffmpeg('/path/to/source.avi')\n *     .audioCodec('libfaac')\n *     .videoCodec('libx264')\n *     .format('mp4');\n *\n *   command.clone()\n *     .size('320x200')\n *     .save('/path/to/output-small.mp4');\n *\n *   command.clone()\n *     .size('640x400')\n *     .save('/path/to/output-medium.mp4');\n *\n *   command.save('/path/to/output-original-size.mp4');\n *\n * @method FfmpegCommand#clone\n * @return FfmpegCommand\n */\nFfmpegCommand.prototype.clone = function() {\n  var clone = new FfmpegCommand();\n  var self = this;\n\n  // Clone options and logger\n  clone.options = this.options;\n  clone.logger = this.logger;\n\n  // Clone inputs\n  clone._inputs = this._inputs.map(function(input) {\n    return {\n      source: input.source,\n      options: input.options.clone()\n    };\n  });\n\n  // Create first output\n  if ('target' in this._outputs[0]) {\n    // We have outputs set, don't clone them and create first output\n    clone._outputs = [];\n    clone.output();\n  } else {\n    // No outputs set, clone first output options\n    clone._outputs = [\n      clone._currentOutput = {\n        flags: {}\n      }\n    ];\n\n    ['audio', 'audioFilters', 'video', 'videoFilters', 'sizeFilters', 'options'].forEach(function(key) {\n      clone._currentOutput[key] = self._currentOutput[key].clone();\n    });\n\n    if (this._currentOutput.sizeData) {\n      clone._currentOutput.sizeData = {};\n      utils.copy(this._currentOutput.sizeData, clone._currentOutput.sizeData);\n    }\n\n    utils.copy(this._currentOutput.flags, clone._currentOutput.flags);\n  }\n\n  // Clone argument lists\n  ['_global', '_complexFilters'].forEach(function(prop) {\n    clone[prop] = self[prop].clone();\n  });\n\n  return clone;\n};\n\n\n/* Add methods from options submodules */\n\nrequire('./options/inputs')(FfmpegCommand.prototype);\nrequire('./options/audio')(FfmpegCommand.prototype);\nrequire('./options/video')(FfmpegCommand.prototype);\nrequire('./options/videosize')(FfmpegCommand.prototype);\nrequire('./options/output')(FfmpegCommand.prototype);\nrequire('./options/custom')(FfmpegCommand.prototype);\nrequire('./options/misc')(FfmpegCommand.prototype);\n\n\n/* Add processor methods */\n\nrequire('./processor')(FfmpegCommand.prototype);\n\n\n/* Add capabilities methods */\n\nrequire('./capabilities')(FfmpegCommand.prototype);\n\nFfmpegCommand.setFfmpegPath = function(path) {\n  (new FfmpegCommand()).setFfmpegPath(path);\n};\n\nFfmpegCommand.setFfprobePath = function(path) {\n  (new FfmpegCommand()).setFfprobePath(path);\n};\n\nFfmpegCommand.setFlvtoolPath = function(path) {\n  (new FfmpegCommand()).setFlvtoolPath(path);\n};\n\nFfmpegCommand.availableFilters =\nFfmpegCommand.getAvailableFilters = function(callback) {\n  (new FfmpegCommand()).availableFilters(callback);\n};\n\nFfmpegCommand.availableCodecs =\nFfmpegCommand.getAvailableCodecs = function(callback) {\n  (new FfmpegCommand()).availableCodecs(callback);\n};\n\nFfmpegCommand.availableFormats =\nFfmpegCommand.getAvailableFormats = function(callback) {\n  (new FfmpegCommand()).availableFormats(callback);\n};\n\nFfmpegCommand.availableEncoders =\nFfmpegCommand.getAvailableEncoders = function(callback) {\n  (new FfmpegCommand()).availableEncoders(callback);\n};\n\n\n/* Add ffprobe methods */\n\nrequire('./ffprobe')(FfmpegCommand.prototype);\n\nFfmpegCommand.ffprobe = function(file) {\n  var instance = new FfmpegCommand(file);\n  instance.ffprobe.apply(instance, Array.prototype.slice.call(arguments, 1));\n};\n\n/* Add processing recipes */\n\nrequire('./recipes')(FfmpegCommand.prototype);\n","module.exports = require('./lib/fluent-ffmpeg');\n","{\"name\":\"ffmpeg-static\",\"version\":\"5.3.0\",\"description\":\"ffmpeg binaries for macOS, Linux and Windows\",\"scripts\":{\"install\":\"node install.js\",\"prepublishOnly\":\"npm run install\"},\"ffmpeg-static\":{\"binary-path-env-var\":\"FFMPEG_BIN\",\"binary-release-tag-env-var\":\"FFMPEG_BINARY_RELEASE\",\"binary-release-tag\":\"b6.1.1\",\"binaries-url-env-var\":\"FFMPEG_BINARIES_URL\",\"executable-base-name\":\"ffmpeg\"},\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/eugeneware/ffmpeg-static\"},\"keywords\":[\"ffmpeg\",\"static\",\"binary\",\"binaries\",\"mac\",\"linux\",\"windows\"],\"authors\":[\"Eugene Ware <eugene@noblesamurai.com>\",\"Jannis R <mail@jannisr.de>\"],\"contributors\":[\"Thefrank (https://github.com/Thefrank)\",\"Emil Sivervik <emil@sivervik.com>\"],\"license\":\"GPL-3.0-or-later\",\"bugs\":{\"url\":\"https://github.com/eugeneware/ffmpeg-static/issues\"},\"engines\":{\"node\":\">=16\"},\"dependencies\":{\"@derhuerst/http-basic\":\"^8.2.0\",\"env-paths\":\"^2.2.0\",\"https-proxy-agent\":\"^5.0.0\",\"progress\":\"^2.0.3\"},\"devDependencies\":{\"any-shell-escape\":\"^0.1.1\"},\"main\":\"index.js\",\"files\":[\"index.js\",\"install.js\",\"example.js\",\"types\"],\"types\":\"types/index.d.ts\"}","'use strict'\n\nconst pkg = require('./package.json')\n\nconst {\n  'binary-path-env-var': BINARY_PATH_ENV_VAR,\n  'executable-base-name': executableBaseName,\n} = pkg[pkg.name]\nif ('string' !== typeof BINARY_PATH_ENV_VAR) {\n  throw new Error(`package.json: invalid/missing ${pkg.name}.binary-path-env-var entry`)\n}\nif ('string' !== typeof executableBaseName) {\n  throw new Error(`package.json: invalid/missing ${pkg.name}.executable-base-name entry`)\n}\n\nif (process.env[BINARY_PATH_ENV_VAR]) {\n  module.exports = process.env[BINARY_PATH_ENV_VAR]\n} else {\n  var os = require('os')\n  var path = require('path')\n\n  var binaries = Object.assign(Object.create(null), {\n    darwin: ['x64', 'arm64'],\n    freebsd: ['x64'],\n    linux: ['x64', 'ia32', 'arm64', 'arm'],\n    win32: ['x64', 'ia32']\n  })\n\n  var platform = process.env.npm_config_platform || os.platform()\n  var arch = process.env.npm_config_arch || os.arch()\n\n  let binaryPath = path.join(\n    __dirname,\n    executableBaseName + (platform === 'win32' ? '.exe' : ''),\n  )\n\n  if (!binaries[platform] || binaries[platform].indexOf(arch) === -1) {\n    binaryPath = null\n  }\n\n  module.exports = binaryPath\n}\n","import { AppRouteRouteModule } from \"next/dist/esm/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/esm/server/lib/patch-fetch\";\nimport { addRequestMeta, getRequestMeta } from \"next/dist/esm/server/request-meta\";\nimport { getTracer, SpanKind } from \"next/dist/esm/server/lib/trace/tracer\";\nimport { setReferenceManifestsSingleton } from \"next/dist/esm/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/esm/server/app-render/action-utils\";\nimport { normalizeAppPath } from \"next/dist/esm/shared/lib/router/utils/app-paths\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/esm/server/base-http/node\";\nimport { NextRequestAdapter, signalFromNodeResponse } from \"next/dist/esm/server/web/spec-extension/adapters/next-request\";\nimport { BaseServerSpan } from \"next/dist/esm/server/lib/trace/constants\";\nimport { getRevalidateReason } from \"next/dist/esm/server/instrumentation/utils\";\nimport { sendResponse } from \"next/dist/esm/server/send-response\";\nimport { fromNodeOutgoingHttpHeaders, toNodeOutgoingHttpHeaders } from \"next/dist/esm/server/web/utils\";\nimport { getCacheControlHeader } from \"next/dist/esm/server/lib/cache-control\";\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from \"next/dist/esm/lib/constants\";\nimport { NoFallbackError } from \"next/dist/esm/shared/lib/no-fallback-error.external\";\nimport { CachedRouteKind } from \"next/dist/esm/server/response-cache\";\nimport * as userland from \"INNER_APP_ROUTE\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/reels/upload/route\",\n        pathname: \"/api/reels/upload\",\n        filename: \"route\",\n        bundlePath: \"\"\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    resolvedPagePath: \"[project]/app/api/reels/upload/route.js\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\nexport async function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/reels/upload/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        setReferenceManifestsSingleton({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: createServerModuleMap({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: getRequestMeta(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new NodeNextRequest(req);\n    const nodeNextRes = new NodeNextResponse(res);\n    const nextReq = NextRequestAdapter.fromNodeNextRequest(nodeNextReq, signalFromNodeResponse(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean(process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = toNodeOutgoingHttpHeaders(response.headers);\n                        if (cacheTags) {\n                            headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await sendResponse(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: getRevalidateReason({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', getCacheControlHeader(cacheEntry.cacheControl));\n            }\n            await sendResponse(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await sendResponse(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n","import { NextResponse } from \"next/server\";\r\nimport prisma from \"@/lib/prisma\";\r\nimport { writeFile } from \"fs/promises\";\r\nimport ffmpeg from \"fluent-ffmpeg\";\r\nimport ffmpegStatic from \"ffmpeg-static\";\r\nimport path from \"path\";\r\n\r\nffmpeg.setFfmpegPath(ffmpegStatic);\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    const formData = await req.formData();\r\n\r\n    const file = formData.get(\"video\");\r\n    const userId = formData.get(\"userId\");\r\n    const caption = formData.get(\"caption\") || \"\";\r\n\r\n    if (!file) return NextResponse.json({ error: \"No file\" }, { status: 400 });\r\n\r\n    const bytes = await file.arrayBuffer();\r\n    const buffer = Buffer.from(bytes);\r\n\r\n    const uploadDir = path.join(process.cwd(), \"public\", \"uploads\");\r\n    const originalPath = path.join(uploadDir, `${Date.now()}-${file.name}`);\r\n    const compressedPath = path.join(uploadDir, `compressed-${Date.now()}.mp4`);\r\n\r\n    // Save original temporarily\r\n    await writeFile(originalPath, buffer);\r\n\r\n    // Compress video\r\n    await new Promise((resolve, reject) => {\r\n      ffmpeg(originalPath)\r\n        .outputOptions([\r\n          \"-vcodec libx264\",\r\n          \"-crf 28\",\r\n          \"-preset veryfast\",\r\n        ])\r\n        .save(compressedPath)\r\n        .on(\"end\", resolve)\r\n        .on(\"error\", reject);\r\n    });\r\n\r\n    // Save to DB (only compressed)\r\n    const reel = await prisma.reel.create({\r\n      data: {\r\n        video: `/uploads/${path.basename(compressedPath)}`,\r\n        caption,\r\n        authorId: userId,\r\n      },\r\n    });\r\n\r\n    return NextResponse.json({ success: true, reel });\r\n  } catch (err) {\r\n    console.log(\"Upload reel error:\", err);\r\n    return NextResponse.json({ error: \"Something went wrong\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,20]}