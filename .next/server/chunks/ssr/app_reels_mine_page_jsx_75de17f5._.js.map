{"version":3,"sources":["../../../../app/reels/mine/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { ThemeContext } from \"../../../context/ThemeContext\";\r\n\r\nexport default function MyReelsPage() {\r\n  const { user } = useContext(AuthContext);\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  const [reels, setReels] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user) fetchMyReels();\r\n  }, [user]);\r\n\r\n  const fetchMyReels = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/reels/mine\");\r\n      const data = await res.json();\r\n      setReels(data.reels || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (!user) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"30px\", background: theme === \"dark\" ? \"#121212\" : \"#fff\", minHeight: \"100vh\", color: theme === \"dark\" ? \"#f1f1f1\" : \"#000\" }}>\r\n      <h1>My Reels</h1>\r\n\r\n      {reels.length === 0 && <p>No reels yet.</p>}\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"20px\", marginTop: \"20px\" }}>\r\n        {reels.map(reel => (\r\n          <div key={reel.id} style={{ border: `1px solid ${theme === \"dark\" ? \"#333\" : \"#ccc\"}`, padding: \"10px\", borderRadius: \"8px\" }}>\r\n            <video src={reel.video} controls style={{ width: \"100%\", maxHeight: \"400px\", borderRadius: \"6px\" }} />\r\n            {reel.caption && <p>{reel.caption}</p>}\r\n            \r\n            <p style={{ fontSize: \"12px\", color: theme === \"dark\" ? \"#888\" : \"#555\" }}>\r\n              Created at: {new Date(reel.createdAt).toLocaleString()}\r\n            </p>\r\n\r\n            <p style={{ fontSize: \"12px\", color: theme === \"dark\" ? \"#aaa\" : \"#666\" }}>\r\n              Likes: {reel.likes?.length || 0} | Comments: {reel.comments?.length || 0}\r\n            </p>\r\n\r\n            {/* Display first 2 comments as preview */}\r\n            {reel.comments?.length > 0 && (\r\n              <div style={{ marginTop: \"10px\" }}>\r\n                {reel.comments.slice(0, 2).map(comment => (\r\n                  <div key={comment.id} style={{ padding: \"4px 0\", fontSize: \"13px\", color: theme === \"dark\" ? \"#ccc\" : \"#333\" }}>\r\n                    <strong>{comment.author.name || \"Unknown\"}:</strong> {comment.content} {comment.emoji && <span>{comment.emoji}</span>}\r\n                  </div>\r\n                ))}\r\n                {reel.comments.length > 2 && <p style={{ fontSize: \"12px\", color: theme === \"dark\" ? \"#888\" : \"#555\" }}>+{reel.comments.length - 2} more comments</p>}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}