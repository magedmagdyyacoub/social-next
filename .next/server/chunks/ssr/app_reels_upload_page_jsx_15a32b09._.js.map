{"version":3,"sources":["../../../../components/UploadReel.jsx","../../../../app/reels/upload/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nexport default function UploadReel() {\r\n  const { user } = useContext(AuthContext);\r\n  const [video, setVideo] = useState(null);\r\n  const [caption, setCaption] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleUpload = async () => {\r\n    if (!user) return alert(\"Please login first!\");\r\n\r\n    if (!video) return alert(\"Select video first!\");\r\n\r\n    setLoading(true);\r\n\r\n    const form = new FormData();\r\n    form.append(\"video\", video);\r\n    form.append(\"caption\", caption);\r\n    form.append(\"userId\", user.id);\r\n\r\n    const res = await fetch(\"/api/reels/upload\", {\r\n      method: \"POST\",\r\n      body: form,\r\n    });\r\n\r\n    const data = await res.json();\r\n    setLoading(false);\r\n\r\n    if (data.success) {\r\n      alert(\"Reel uploaded!\");\r\n      setVideo(null);\r\n      setCaption(\"\");\r\n    } else {\r\n      alert(\"Upload failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>Upload Reel</h2>\r\n\r\n      <input\r\n        type=\"file\"\r\n        accept=\"video/*\"\r\n        onChange={(e) => setVideo(e.target.files[0])}\r\n      />\r\n\r\n      <textarea\r\n        placeholder=\"Write caption...\"\r\n        value={caption}\r\n        onChange={(e) => setCaption(e.target.value)}\r\n        style={{ width: \"100%\", marginTop: \"10px\" }}\r\n      />\r\n\r\n      <button\r\n        onClick={handleUpload}\r\n        disabled={loading}\r\n        style={{\r\n          marginTop: \"10px\",\r\n          padding: \"8px 20px\",\r\n          fontSize: \"16px\"\r\n        }}\r\n      >\r\n        {loading ? \"Uploading...\" : \"Upload\"}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport UploadReel from \"../../../components/UploadReel\";\r\n\r\nexport default function UploadReelPage() {\r\n  return <UploadReel />;\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,WAAW,EACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEjC,EAAe,UACnB,GAAI,CAAC,EAAM,OAAO,MAAM,uBAExB,GAAI,CAAC,EAAO,OAAO,MAAM,uBAEzB,EAAW,IAEX,IAAM,EAAO,IAAI,SACjB,EAAK,MAAM,CAAC,QAAS,GACrB,EAAK,MAAM,CAAC,UAAW,GACvB,EAAK,MAAM,CAAC,SAAU,EAAK,EAAE,EAE7B,IAAM,EAAM,MAAM,MAAM,oBAAqB,CAC3C,OAAQ,OACR,KAAM,CACR,GAEM,EAAO,MAAM,EAAI,IAAI,GAC3B,GAAW,GAEP,EAAK,OAAO,EAAE,AAChB,MAAM,kBACN,EAAS,MACT,EAAW,KAEX,MAAM,gBAEV,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,MAAO,YAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,gBAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,OAAO,UACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,IAG7C,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,YAAY,mBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,MAAO,CAAE,MAAO,OAAQ,UAAW,MAAO,IAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,MAAO,CACL,UAAW,OACX,QAAS,WACT,SAAU,MACZ,WAEC,EAAU,eAAiB,aAIpC,CClEe,SAAS,IACtB,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,EACV"}