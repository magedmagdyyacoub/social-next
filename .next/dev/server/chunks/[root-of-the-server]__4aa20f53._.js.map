{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/api/auth/me/route.js"],"sourcesContent":["import prisma from \"@lib/prisma\";\r\nimport { cookies } from \"next/headers\";\r\n\r\nexport async function GET() {\r\n  try {\r\n    const token = cookies().get(\"token\")?.value;\r\n\r\n    if (!token) {\r\n      return new Response(JSON.stringify({ user: null }), {\r\n        status: 200,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n    }\r\n\r\n    const user = await prisma.user.findUnique({ where: { id: token } });\r\n\r\n    return new Response(JSON.stringify({ user: user || null }), {\r\n      status: 200,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  } catch (err) {\r\n    console.error(\"Error fetching user:\", err);\r\n    return new Response(JSON.stringify({ user: null, error: \"Server error\" }), {\r\n      status: 500,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,QAAQ,IAAA,4IAAO,IAAG,GAAG,CAAC,UAAU;QAEtC,IAAI,CAAC,OAAO;YACV,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,MAAM;YAAK,IAAI;gBAClD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;YAChD;QACF;QAEA,MAAM,OAAO,MAAM,OAAO,IAAI,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE,IAAI;YAAM;QAAE;QAEjE,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,MAAM,QAAQ;QAAK,IAAI;YAC1D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,MAAM;YAAM,OAAO;QAAe,IAAI;YACzE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IACF;AACF"}}]
}