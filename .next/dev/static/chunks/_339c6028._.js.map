{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/context/AuthContext.jsx"],"sourcesContent":["\"use client\";\r\nimport { createContext, useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [user, setUser] = useState(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem(\"user\");\r\n    if (savedUser) setUser(JSON.parse(savedUser));\r\n\r\n    fetch(\"/api/auth/me\")\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.user) {\r\n          setUser(data.user);\r\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const login = async (email, password) => {\r\n    const res = await fetch(\"/api/auth/login\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const data = await res.json();\r\n    if (!data.user) return;\r\n\r\n    setUser(data.user);\r\n    localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n\r\n    if (data.user.role === \"ADMIN\") router.push(\"/admin/dashboard\");\r\n    else router.push(\"/profile\");\r\n  };\r\n\r\n  const register = async (formData) => {\r\n    const res = await fetch(\"/api/auth/register\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(formData),\r\n    });\r\n\r\n    const data = await res.json();\r\n    if (!data.user) return;\r\n\r\n    setUser(data.user);\r\n    localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n\r\n    if (data.user.role === \"ADMIN\") router.push(\"/admin/dashboard\");\r\n    else router.push(\"/profile\");\r\n  };\r\n\r\n  const logout = async () => {\r\n    await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n    setUser(null);\r\n    localStorage.removeItem(\"user\");\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, register, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;AAFA;;;AAIO,MAAM,4BAAc,IAAA,8KAAa;AAEjC,SAAS,aAAa,EAAE,QAAQ,EAAE;;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;kCAAC;YACR,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW,QAAQ,KAAK,KAAK,CAAC;YAElC,MAAM,gBACH,IAAI;0CAAC,CAAA,MAAO,IAAI,IAAI;yCACpB,IAAI;0CAAC,CAAA;oBACJ,IAAI,KAAK,IAAI,EAAE;wBACb,QAAQ,KAAK,IAAI;wBACjB,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;oBACvD;gBACF;;QACJ;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAO;QAC1B,MAAM,MAAM,MAAM,MAAM,mBAAmB;YACzC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;YAAS;QACzC;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,CAAC,KAAK,IAAI,EAAE;QAEhB,QAAQ,KAAK,IAAI;QACjB,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;QAErD,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,SAAS,OAAO,IAAI,CAAC;aACvC,OAAO,IAAI,CAAC;IACnB;IAEA,MAAM,WAAW,OAAO;QACtB,MAAM,MAAM,MAAM,MAAM,sBAAsB;YAC5C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,CAAC,KAAK,IAAI,EAAE;QAEhB,QAAQ,KAAK,IAAI;QACjB,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;QAErD,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,SAAS,OAAO,IAAI,CAAC;aACvC,OAAO,IAAI,CAAC;IACnB;IAEA,MAAM,SAAS;QACb,MAAM,MAAM,oBAAoB;YAAE,QAAQ;QAAO;QACjD,QAAQ;QACR,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAU;QAAO;kBAC1D;;;;;;AAGP;GAhEgB;;QAEC,kJAAS;;;KAFV"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/context/ThemeContext.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const ThemeContext = createContext();\r\n\r\nexport function ThemeProvider({ children }) {\r\n  const [theme, setTheme] = useState(\"light\");\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"theme\");\r\n    if (saved) setTheme(saved);\r\n    document.documentElement.setAttribute(\"data-theme\", saved || \"light\");\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === \"light\" ? \"dark\" : \"light\";\r\n    setTheme(newTheme);\r\n    localStorage.setItem(\"theme\", newTheme);\r\n    document.documentElement.setAttribute(\"data-theme\", newTheme);\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAIO,MAAM,6BAAe,IAAA,8KAAa;AAElC,SAAS,cAAc,EAAE,QAAQ,EAAE;;IACxC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,IAAA,0KAAS;mCAAC;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO,SAAS;YACpB,SAAS,eAAe,CAAC,YAAY,CAAC,cAAc,SAAS;QAC/D;kCAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,WAAW,UAAU,UAAU,SAAS;QAC9C,SAAS;QACT,aAAa,OAAO,CAAC,SAAS;QAC9B,SAAS,eAAe,CAAC,YAAY,CAAC,cAAc;IACtD;IAEA,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;GArBgB;KAAA"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/components/Navbar.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { ThemeContext } from \"../context/ThemeContext\";\r\n\r\nexport default function Navbar() {\r\n  const { user, logout } = useContext(AuthContext);\r\n  const { theme, toggleTheme } = useContext(ThemeContext);\r\n\r\n  return (\r\n    <nav\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        padding: \"15px\",\r\n        background: \"var(--nav-bg)\",\r\n        color: \"var(--nav-text)\",\r\n      }}\r\n    >\r\n      <h2>Social App</h2>\r\n\r\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: \"15px\" }}>\r\n        <Link href=\"/\">Home</Link>\r\n\r\n        {user ? (\r\n          <>\r\n            <Link href=\"/posts\">My Posts</Link>\r\n            <Link href=\"/profile\">Profile</Link>\r\n            <Link href=\"/reels/mine\">My Reels</Link> {/* üëà NEW LINK */}\r\n            {user.role === \"ADMIN\" && <Link href=\"/dashboard\">Admin</Link>}\r\n            <button onClick={logout}>Logout</button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Link href=\"/login\">Login</Link>\r\n            <Link href=\"/register\">Register</Link>\r\n          </>\r\n        )}\r\n\r\n        {/* üî• Dark Mode Toggle Button */}\r\n        <button\r\n          onClick={toggleTheme}\r\n          style={{\r\n            padding: \"6px 10px\",\r\n            borderRadius: \"6px\",\r\n            border: \"none\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          {theme === \"light\" ? \"üåô Dark\" : \"‚òÄÔ∏è Light\"}\r\n        </button>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,2KAAU,EAAC,yIAAW;IAC/C,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,2KAAU,EAAC,2IAAY;IAEtD,qBACE,6LAAC;QACC,OAAO;YACL,SAAS;YACT,gBAAgB;YAChB,SAAS;YACT,YAAY;YACZ,OAAO;QACT;;0BAEA,6LAAC;0BAAG;;;;;;0BAEJ,6LAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,YAAY;oBAAU,KAAK;gBAAO;;kCAC/D,6LAAC,0KAAI;wBAAC,MAAK;kCAAI;;;;;;oBAEd,qBACC;;0CACE,6LAAC,0KAAI;gCAAC,MAAK;0CAAS;;;;;;0CACpB,6LAAC,0KAAI;gCAAC,MAAK;0CAAW;;;;;;0CACtB,6LAAC,0KAAI;gCAAC,MAAK;0CAAc;;;;;;4BAAe;4BACvC,KAAK,IAAI,KAAK,yBAAW,6LAAC,0KAAI;gCAAC,MAAK;0CAAa;;;;;;0CAClD,6LAAC;gCAAO,SAAS;0CAAQ;;;;;;;qDAG3B;;0CACE,6LAAC,0KAAI;gCAAC,MAAK;0CAAS;;;;;;0CACpB,6LAAC,0KAAI;gCAAC,MAAK;0CAAY;;;;;;;;kCAK3B,6LAAC;wBACC,SAAS;wBACT,OAAO;4BACL,SAAS;4BACT,cAAc;4BACd,QAAQ;4BACR,QAAQ;wBACV;kCAEC,UAAU,UAAU,YAAY;;;;;;;;;;;;;;;;;;AAK3C;GAjDwB;KAAA"}}]
}