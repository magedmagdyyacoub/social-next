{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/components/Sidebar.jsx"],"sourcesContent":["\"use client\";\r\nimport { FaPlus, FaUserFriends, FaChevronLeft, FaChevronRight, FaVideo } from \"react-icons/fa\";\r\n\r\nexport default function Sidebar({\r\n  collapsed,\r\n  setCollapsed,\r\n  setShowForm,\r\n  setShowReelForm,          // üëà new prop for reels\r\n  handleAddFriendsClick,\r\n  handleShowFriendRequests,\r\n  handleShowMyFriends,\r\n  theme\r\n}) {\r\n\r\n  const styles = {\r\n    sidebar: {\r\n      width: collapsed ? \"70px\" : \"220px\",\r\n      transition: \"width 0.3s\",\r\n      padding: \"20px 10px\",\r\n      background: theme === \"dark\" ? \"#1e1e1e\" : \"#f0f0f0\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      gap: \"15px\",\r\n      borderRight: theme === \"dark\" ? \"1px solid #333\" : \"1px solid #ccc\",\r\n      position: \"sticky\",\r\n      top: 0,\r\n      height: \"100vh\",\r\n    },\r\n    sidebarBtn: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      gap: collapsed ? \"0\" : \"10px\",\r\n      padding: \"10px\",\r\n      background: theme === \"dark\" ? \"#333\" : \"#ddd\",\r\n      borderRadius: \"6px\",\r\n      border: \"none\",\r\n      cursor: \"pointer\",\r\n      justifyContent: collapsed ? \"center\" : \"flex-start\",\r\n    },\r\n    collapseBtn: {\r\n      marginTop: \"auto\",\r\n      padding: \"6px\",\r\n      background: \"transparent\",\r\n      border: \"none\",\r\n      cursor: \"pointer\",\r\n      color: theme === \"dark\" ? \"#fff\" : \"#000\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={styles.sidebar}>\r\n      {/* Create Post */}\r\n      <button onClick={() => setShowForm(prev => !prev)} style={styles.sidebarBtn}>\r\n        <FaPlus /> {!collapsed && <span>Create Post</span>}\r\n      </button>\r\n\r\n      {/* Create Reel */}\r\n      <button onClick={() => setShowReelForm(prev => !prev)} style={styles.sidebarBtn}>\r\n        <FaVideo /> {!collapsed && <span>Create Reel</span>}\r\n      </button>\r\n\r\n      {/* Friend Suggestions */}\r\n      <button onClick={handleAddFriendsClick} style={styles.sidebarBtn}>\r\n        <FaUserFriends /> {!collapsed && <span>Friend Suggestions</span>}\r\n      </button>\r\n\r\n      {/* Friend Requests */}\r\n      <button onClick={handleShowFriendRequests} style={styles.sidebarBtn}>\r\n        <FaUserFriends /> {!collapsed && <span>Friend Requests</span>}\r\n      </button>\r\n\r\n      {/* My Friends */}\r\n      <button onClick={handleShowMyFriends} style={styles.sidebarBtn}>\r\n        <FaUserFriends /> {!collapsed && <span>My Friends</span>}\r\n      </button>\r\n\r\n      {/* Collapse button */}\r\n      <button onClick={() => setCollapsed(!collapsed)} style={styles.collapseBtn}>\r\n        {collapsed ? <FaChevronRight /> : <FaChevronLeft />}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS,QAAQ,EAC9B,SAAS,EACT,YAAY,EACZ,WAAW,EACX,eAAe,EACf,qBAAqB,EACrB,wBAAwB,EACxB,mBAAmB,EACnB,KAAK,EACN;IAEC,MAAM,SAAS;QACb,SAAS;YACP,OAAO,YAAY,SAAS;YAC5B,YAAY;YACZ,SAAS;YACT,YAAY,UAAU,SAAS,YAAY;YAC3C,SAAS;YACT,eAAe;YACf,KAAK;YACL,aAAa,UAAU,SAAS,mBAAmB;YACnD,UAAU;YACV,KAAK;YACL,QAAQ;QACV;QACA,YAAY;YACV,SAAS;YACT,YAAY;YACZ,KAAK,YAAY,MAAM;YACvB,SAAS;YACT,YAAY,UAAU,SAAS,SAAS;YACxC,cAAc;YACd,QAAQ;YACR,QAAQ;YACR,gBAAgB,YAAY,WAAW;QACzC;QACA,aAAa;YACX,WAAW;YACX,SAAS;YACT,YAAY;YACZ,QAAQ;YACR,QAAQ;YACR,OAAO,UAAU,SAAS,SAAS;QACrC;IACF;IAEA,qBACE,6LAAC;QAAI,OAAO,OAAO,OAAO;;0BAExB,6LAAC;gBAAO,SAAS,IAAM,YAAY,CAAA,OAAQ,CAAC;gBAAO,OAAO,OAAO,UAAU;;kCACzE,6LAAC,2JAAM;;;;;oBAAG;oBAAE,CAAC,2BAAa,6LAAC;kCAAK;;;;;;;;;;;;0BAIlC,6LAAC;gBAAO,SAAS,IAAM,gBAAgB,CAAA,OAAQ,CAAC;gBAAO,OAAO,OAAO,UAAU;;kCAC7E,6LAAC,4JAAO;;;;;oBAAG;oBAAE,CAAC,2BAAa,6LAAC;kCAAK;;;;;;;;;;;;0BAInC,6LAAC;gBAAO,SAAS;gBAAuB,OAAO,OAAO,UAAU;;kCAC9D,6LAAC,kKAAa;;;;;oBAAG;oBAAE,CAAC,2BAAa,6LAAC;kCAAK;;;;;;;;;;;;0BAIzC,6LAAC;gBAAO,SAAS;gBAA0B,OAAO,OAAO,UAAU;;kCACjE,6LAAC,kKAAa;;;;;oBAAG;oBAAE,CAAC,2BAAa,6LAAC;kCAAK;;;;;;;;;;;;0BAIzC,6LAAC;gBAAO,SAAS;gBAAqB,OAAO,OAAO,UAAU;;kCAC5D,6LAAC,kKAAa;;;;;oBAAG;oBAAE,CAAC,2BAAa,6LAAC;kCAAK;;;;;;;;;;;;0BAIzC,6LAAC;gBAAO,SAAS,IAAM,aAAa,CAAC;gBAAY,OAAO,OAAO,WAAW;0BACvE,0BAAY,6LAAC,mKAAc;;;;yCAAM,6LAAC,kKAAa;;;;;;;;;;;;;;;;AAIxD;KA/EwB"}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/components/UserInfo.jsx"],"sourcesContent":["export default function UserInfo({ user, theme }) {\r\n  return (\r\n    <div style={{\r\n      padding: \"20px\",\r\n      background: theme === \"dark\" ? \"#1e1e1e\" : \"#eee\",\r\n      borderRadius: \"8px\",\r\n      marginBottom: \"20px\"\r\n    }}>\r\n      <p><strong>Name:</strong> {user.name || \"No Name\"}</p>\r\n      <p><strong>Email:</strong> {user.email}</p>\r\n      <p><strong>Role:</strong> {user.role}</p>\r\n      <p><strong>Joined:</strong> {new Date(user.createdAt).toLocaleDateString()}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE;IAC9C,qBACE,6LAAC;QAAI,OAAO;YACV,SAAS;YACT,YAAY,UAAU,SAAS,YAAY;YAC3C,cAAc;YACd,cAAc;QAChB;;0BACE,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAc;oBAAE,KAAK,IAAI,IAAI;;;;;;;0BACxC,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAe;oBAAE,KAAK,KAAK;;;;;;;0BACtC,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAc;oBAAE,KAAK,IAAI;;;;;;;0BACpC,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAgB;oBAAE,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;AAG9E;KAdwB"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/components/CreatePostForm.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport dynamic from \"next/dynamic\";\r\nconst Picker = dynamic(() => import(\"emoji-picker-react\"), { ssr: false });\r\n\r\nexport default function CreatePostForm({\r\n  showForm,\r\n  title,\r\n  setTitle,\r\n  content,\r\n  setContent,\r\n  imageFile,\r\n  setImageFile,\r\n  videoFile,\r\n  setVideoFile,\r\n  showEmojiPicker,\r\n  setShowEmojiPicker,\r\n  handleCreatePost,\r\n  theme,\r\n  onEmojiClick\r\n}) {\r\n  if (!showForm) return null;\r\n\r\n  const styles = {\r\n    form: {\r\n      marginTop: \"20px\",\r\n      padding: \"20px\",\r\n      background: theme === \"dark\" ? \"#1e1e1e\" : \"#f7f7f7\",\r\n      borderRadius: \"8px\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      gap: \"10px\",\r\n    },\r\n    input: {\r\n      padding: \"10px\",\r\n      border: \"1px solid #ccc\",\r\n      borderRadius: \"5px\",\r\n      background: theme === \"dark\" ? \"#2b2b2b\" : \"#fff\",\r\n    },\r\n    textarea: {\r\n      padding: \"10px\",\r\n      border: \"1px solid #ccc\",\r\n      borderRadius: \"5px\",\r\n      background: theme === \"dark\" ? \"#2b2b2b\" : \"#fff\",\r\n    },\r\n    submitBtn: {\r\n      padding: \"8px\",\r\n      background: \"green\",\r\n      color: \"#fff\",\r\n      borderRadius: \"6px\",\r\n      border: \"none\",\r\n      cursor: \"pointer\",\r\n    },\r\n    emojiBtn: {\r\n      padding: \"6px 12px\",\r\n      background: \"#ffecb3\",\r\n      borderRadius: \"5px\",\r\n      border: \"none\",\r\n      cursor: \"pointer\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleCreatePost} style={styles.form} encType=\"multipart/form-data\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Post title\"\r\n        style={styles.input}\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n\r\n      <textarea\r\n        rows={4}\r\n        placeholder=\"Write something...\"\r\n        style={styles.textarea}\r\n        value={content}\r\n        onChange={(e) => setContent(e.target.value)}\r\n      />\r\n\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setShowEmojiPicker(!showEmojiPicker)}\r\n        style={styles.emojiBtn}\r\n      >\r\n        {showEmojiPicker ? \"Close Emojis\" : \"Add Emoji\"}\r\n      </button>\r\n\r\n      {showEmojiPicker && (\r\n        <Picker\r\n          onEmojiClick={onEmojiClick}\r\n          theme={theme === \"dark\" ? \"dark\" : \"light\"}\r\n        />\r\n      )}\r\n\r\n      <input type=\"file\" accept=\"image/*\" onChange={(e) => setImageFile(e.target.files[0])} />\r\n      <input type=\"file\" accept=\"video/*\" onChange={(e) => setVideoFile(e.target.files[0])} />\r\n\r\n      <button type=\"submit\" style={styles.submitBtn}>Publish</button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;AAFA;;;AAGA,MAAM,SAAS,IAAA,6KAAO,EAAC;;;;;;IAAsC,KAAK;;KAA5D;AAES,SAAS,eAAe,EACrC,QAAQ,EACR,KAAK,EACL,QAAQ,EACR,OAAO,EACP,UAAU,EACV,SAAS,EACT,YAAY,EACZ,SAAS,EACT,YAAY,EACZ,eAAe,EACf,kBAAkB,EAClB,gBAAgB,EAChB,KAAK,EACL,YAAY,EACb;IACC,IAAI,CAAC,UAAU,OAAO;IAEtB,MAAM,SAAS;QACb,MAAM;YACJ,WAAW;YACX,SAAS;YACT,YAAY,UAAU,SAAS,YAAY;YAC3C,cAAc;YACd,SAAS;YACT,eAAe;YACf,KAAK;QACP;QACA,OAAO;YACL,SAAS;YACT,QAAQ;YACR,cAAc;YACd,YAAY,UAAU,SAAS,YAAY;QAC7C;QACA,UAAU;YACR,SAAS;YACT,QAAQ;YACR,cAAc;YACd,YAAY,UAAU,SAAS,YAAY;QAC7C;QACA,WAAW;YACT,SAAS;YACT,YAAY;YACZ,OAAO;YACP,cAAc;YACd,QAAQ;YACR,QAAQ;QACV;QACA,UAAU;YACR,SAAS;YACT,YAAY;YACZ,cAAc;YACd,QAAQ;YACR,QAAQ;QACV;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAkB,OAAO,OAAO,IAAI;QAAE,SAAQ;;0BAC5D,6LAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO,OAAO,KAAK;gBACnB,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;0BAG1C,6LAAC;gBACC,MAAM;gBACN,aAAY;gBACZ,OAAO,OAAO,QAAQ;gBACtB,OAAO;gBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;0BAG5C,6LAAC;gBACC,MAAK;gBACL,SAAS,IAAM,mBAAmB,CAAC;gBACnC,OAAO,OAAO,QAAQ;0BAErB,kBAAkB,iBAAiB;;;;;;YAGrC,iCACC,6LAAC;gBACC,cAAc;gBACd,OAAO,UAAU,SAAS,SAAS;;;;;;0BAIvC,6LAAC;gBAAM,MAAK;gBAAO,QAAO;gBAAU,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;;;;;;0BACnF,6LAAC;gBAAM,MAAK;gBAAO,QAAO;gBAAU,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;;;;;;0BAEnF,6LAAC;gBAAO,MAAK;gBAAS,OAAO,OAAO,SAAS;0BAAE;;;;;;;;;;;;AAGrD;MAhGwB"}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/components/CreateReelForm.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\n\r\nconst Picker = dynamic(() => import(\"emoji-picker-react\"), { ssr: false });\r\n\r\nexport default function CreateReelForm({\r\n  showForm,\r\n  caption, setCaption,\r\n  videoFile, setVideoFile,\r\n  showEmojiPicker, setShowEmojiPicker,\r\n  handleCreateReel,\r\n  onEmojiClick,\r\n  theme,\r\n}) {\r\n  const styles = {\r\n    container: {\r\n      display: showForm ? \"block\" : \"none\",\r\n      marginTop: \"20px\",\r\n      padding: \"15px\",\r\n      border: `1px solid ${theme === \"dark\" ? \"#444\" : \"#ccc\"}`,\r\n      borderRadius: \"8px\",\r\n      background: theme === \"dark\" ? \"#1e1e1e\" : \"#fafafa\",\r\n    },\r\n    input: {\r\n      width: \"100%\",\r\n      padding: \"8px\",\r\n      marginBottom: \"10px\",\r\n      borderRadius: \"5px\",\r\n      border: `1px solid ${theme === \"dark\" ? \"#555\" : \"#ccc\"}`,\r\n      background: theme === \"dark\" ? \"#2c2c2c\" : \"#fff\",\r\n      color: theme === \"dark\" ? \"#f1f1f1\" : \"#000\",\r\n    },\r\n    button: {\r\n      padding: \"10px 15px\",\r\n      borderRadius: \"5px\",\r\n      border: \"none\",\r\n      cursor: \"pointer\",\r\n      marginRight: \"10px\",\r\n      background: theme === \"dark\" ? \"#4caf50\" : \"#0070f3\",\r\n      color: \"#fff\",\r\n    },\r\n    emojiButton: {\r\n      cursor: \"pointer\",\r\n      background: \"transparent\",\r\n      border: \"none\",\r\n      fontSize: \"20px\",\r\n      marginRight: \"10px\",\r\n    },\r\n    videoPreview: {\r\n      width: \"100%\",\r\n      maxHeight: \"300px\",\r\n      marginBottom: \"10px\",\r\n      borderRadius: \"8px\",\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h3>Create Reel</h3>\r\n      <form onSubmit={handleCreateReel}>\r\n        <textarea\r\n          style={styles.input}\r\n          placeholder=\"Add a caption...\"\r\n          value={caption}\r\n          onChange={(e) => setCaption(e.target.value)}\r\n        />\r\n\r\n        {showEmojiPicker && (\r\n          <Picker\r\n            onEmojiClick={(emoji) => onEmojiClick(emoji)}\r\n            theme={theme === \"dark\" ? \"dark\" : \"light\"}\r\n          />\r\n        )}\r\n\r\n        <div style={{ marginBottom: \"10px\" }}>\r\n          <button\r\n            type=\"button\"\r\n            style={styles.emojiButton}\r\n            onClick={() => setShowEmojiPicker(!showEmojiPicker)}\r\n          >\r\n            üòä\r\n          </button>\r\n\r\n          <input\r\n            type=\"file\"\r\n            accept=\"video/*\"\r\n            onChange={(e) => setVideoFile(e.target.files[0])}\r\n          />\r\n        </div>\r\n\r\n        {videoFile && (\r\n          <video\r\n            style={styles.videoPreview}\r\n            src={URL.createObjectURL(videoFile)}\r\n            controls\r\n          />\r\n        )}\r\n\r\n        <div>\r\n          <button type=\"submit\" style={styles.button}>Publish Reel</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;AAHA;;;;AAKA,MAAM,SAAS,IAAA,6KAAO,EAAC;;;;;;IAAsC,KAAK;;KAA5D;AAES,SAAS,eAAe,EACrC,QAAQ,EACR,OAAO,EAAE,UAAU,EACnB,SAAS,EAAE,YAAY,EACvB,eAAe,EAAE,kBAAkB,EACnC,gBAAgB,EAChB,YAAY,EACZ,KAAK,EACN;IACC,MAAM,SAAS;QACb,WAAW;YACT,SAAS,WAAW,UAAU;YAC9B,WAAW;YACX,SAAS;YACT,QAAQ,CAAC,UAAU,EAAE,UAAU,SAAS,SAAS,QAAQ;YACzD,cAAc;YACd,YAAY,UAAU,SAAS,YAAY;QAC7C;QACA,OAAO;YACL,OAAO;YACP,SAAS;YACT,cAAc;YACd,cAAc;YACd,QAAQ,CAAC,UAAU,EAAE,UAAU,SAAS,SAAS,QAAQ;YACzD,YAAY,UAAU,SAAS,YAAY;YAC3C,OAAO,UAAU,SAAS,YAAY;QACxC;QACA,QAAQ;YACN,SAAS;YACT,cAAc;YACd,QAAQ;YACR,QAAQ;YACR,aAAa;YACb,YAAY,UAAU,SAAS,YAAY;YAC3C,OAAO;QACT;QACA,aAAa;YACX,QAAQ;YACR,YAAY;YACZ,QAAQ;YACR,UAAU;YACV,aAAa;QACf;QACA,cAAc;YACZ,OAAO;YACP,WAAW;YACX,cAAc;YACd,cAAc;QAChB;IACF;IAEA,qBACE,6LAAC;QAAI,OAAO,OAAO,SAAS;;0BAC1B,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAK,UAAU;;kCACd,6LAAC;wBACC,OAAO,OAAO,KAAK;wBACnB,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;oBAG3C,iCACC,6LAAC;wBACC,cAAc,CAAC,QAAU,aAAa;wBACtC,OAAO,UAAU,SAAS,SAAS;;;;;;kCAIvC,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAO;;0CACjC,6LAAC;gCACC,MAAK;gCACL,OAAO,OAAO,WAAW;gCACzB,SAAS,IAAM,mBAAmB,CAAC;0CACpC;;;;;;0CAID,6LAAC;gCACC,MAAK;gCACL,QAAO;gCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;;;;;;;;;;;;oBAIlD,2BACC,6LAAC;wBACC,OAAO,OAAO,YAAY;wBAC1B,KAAK,IAAI,eAAe,CAAC;wBACzB,QAAQ;;;;;;kCAIZ,6LAAC;kCACC,cAAA,6LAAC;4BAAO,MAAK;4BAAS,OAAO,OAAO,MAAM;sCAAE;;;;;;;;;;;;;;;;;;;;;;;AAKtD;MAnGwB"}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/components/FriendSuggestions.jsx"],"sourcesContent":["export default function FriendSuggestions({ suggestedUsers, handleSendRequest, theme }) {\r\n  const cardStyle = {\r\n    marginTop: \"15px\",\r\n    padding: \"10px\",\r\n    background: theme === \"dark\" ? \"#2a2a2a\" : \"#eee\",\r\n    borderRadius: \"6px\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  };\r\n\r\n  if (!suggestedUsers || suggestedUsers.length === 0) return <p>No suggestions found</p>;\r\n\r\n  return (\r\n    <div style={{ marginTop: \"20px\" }}>\r\n      <h2>Friend Suggestions</h2>\r\n      {suggestedUsers.map(u => (\r\n        <div key={u.id} style={cardStyle}>\r\n          <span>{u.name || u.email}</span>\r\n          <button\r\n            style={{ padding: \"6px 12px\", background: \"green\", color: \"#fff\", borderRadius: \"6px\", border: \"none\", cursor: \"pointer\" }}\r\n            onClick={() => handleSendRequest(u.id)}\r\n          >\r\n            Send Request\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,kBAAkB,EAAE,cAAc,EAAE,iBAAiB,EAAE,KAAK,EAAE;IACpF,MAAM,YAAY;QAChB,WAAW;QACX,SAAS;QACT,YAAY,UAAU,SAAS,YAAY;QAC3C,cAAc;QACd,SAAS;QACT,gBAAgB;QAChB,YAAY;IACd;IAEA,IAAI,CAAC,kBAAkB,eAAe,MAAM,KAAK,GAAG,qBAAO,6LAAC;kBAAE;;;;;;IAE9D,qBACE,6LAAC;QAAI,OAAO;YAAE,WAAW;QAAO;;0BAC9B,6LAAC;0BAAG;;;;;;YACH,eAAe,GAAG,CAAC,CAAA,kBAClB,6LAAC;oBAAe,OAAO;;sCACrB,6LAAC;sCAAM,EAAE,IAAI,IAAI,EAAE,KAAK;;;;;;sCACxB,6LAAC;4BACC,OAAO;gCAAE,SAAS;gCAAY,YAAY;gCAAS,OAAO;gCAAQ,cAAc;gCAAO,QAAQ;gCAAQ,QAAQ;4BAAU;4BACzH,SAAS,IAAM,kBAAkB,EAAE,EAAE;sCACtC;;;;;;;mBALO,EAAE,EAAE;;;;;;;;;;;AAYtB;KA7BwB"}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/components/FriendRequests.jsx"],"sourcesContent":["export default function FriendRequests({ friendRequests, handleAcceptRequest, handleRejectRequest, theme }) {\r\n  const cardStyle = {\r\n    marginTop: \"15px\",\r\n    padding: \"10px\",\r\n    background: theme === \"dark\" ? \"#2a2a2a\" : \"#eee\",\r\n    borderRadius: \"6px\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  };\r\n\r\n  if (!friendRequests || friendRequests.length === 0) return <p>No requests</p>;\r\n\r\n  return (\r\n    <div style={{ marginTop: \"20px\" }}>\r\n      <h2>Incoming Friend Requests</h2>\r\n      {friendRequests.map(r => (\r\n        <div key={r.id} style={cardStyle}>\r\n          <span>{r.fromName || \"Unknown User\"}</span>\r\n          <div style={{ display: \"flex\", gap: \"5px\" }}>\r\n            <button\r\n              style={{ padding: \"6px 12px\", background: \"green\", color: \"#fff\", borderRadius: \"6px\", border: \"none\", cursor: \"pointer\" }}\r\n              onClick={() => handleAcceptRequest(r.id)}\r\n            >\r\n              Accept\r\n            </button>\r\n            <button\r\n              style={{ padding: \"6px 12px\", background: \"red\", color: \"#fff\", borderRadius: \"6px\", border: \"none\", cursor: \"pointer\" }}\r\n              onClick={() => handleRejectRequest(r.id)}\r\n            >\r\n              Reject\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,eAAe,EAAE,cAAc,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,KAAK,EAAE;IACxG,MAAM,YAAY;QAChB,WAAW;QACX,SAAS;QACT,YAAY,UAAU,SAAS,YAAY;QAC3C,cAAc;QACd,SAAS;QACT,gBAAgB;QAChB,YAAY;IACd;IAEA,IAAI,CAAC,kBAAkB,eAAe,MAAM,KAAK,GAAG,qBAAO,6LAAC;kBAAE;;;;;;IAE9D,qBACE,6LAAC;QAAI,OAAO;YAAE,WAAW;QAAO;;0BAC9B,6LAAC;0BAAG;;;;;;YACH,eAAe,GAAG,CAAC,CAAA,kBAClB,6LAAC;oBAAe,OAAO;;sCACrB,6LAAC;sCAAM,EAAE,QAAQ,IAAI;;;;;;sCACrB,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,KAAK;4BAAM;;8CACxC,6LAAC;oCACC,OAAO;wCAAE,SAAS;wCAAY,YAAY;wCAAS,OAAO;wCAAQ,cAAc;wCAAO,QAAQ;wCAAQ,QAAQ;oCAAU;oCACzH,SAAS,IAAM,oBAAoB,EAAE,EAAE;8CACxC;;;;;;8CAGD,6LAAC;oCACC,OAAO;wCAAE,SAAS;wCAAY,YAAY;wCAAO,OAAO;wCAAQ,cAAc;wCAAO,QAAQ;wCAAQ,QAAQ;oCAAU;oCACvH,SAAS,IAAM,oBAAoB,EAAE,EAAE;8CACxC;;;;;;;;;;;;;mBAZK,EAAE,EAAE;;;;;;;;;;;AAoBtB;KArCwB"}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/components/ChatWindow.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useRef } from \"react\";\r\n\r\nexport default function ChatWindow({ friend, user, chatId, onClose }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const messagesEndRef = useRef(null);\r\n  const lastMessageIdRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  const fetchMessages = async () => {\r\n    try {\r\n      const res = await fetch(`/api/messages/${chatId}?afterId=${lastMessageIdRef.current || \"\"}`);\r\n      if (!res.ok) return;\r\n      const data = await res.json();\r\n      if (Array.isArray(data) && data.length > 0) {\r\n        setMessages((prev) => {\r\n          const merged = [\r\n            ...prev,\r\n            ...data.filter((m) => !prev.some((msg) => msg.id === m.id)),\r\n          ];\r\n          return merged;\r\n        });\r\n        lastMessageIdRef.current = data[data.length - 1].id;\r\n        scrollToBottom();\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Fetch messages error:\", err);\r\n    }\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!newMessage.trim()) return;\r\n\r\n    try {\r\n      const res = await fetch(\"/api/messages\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ chatId, content: newMessage }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const errText = await res.text();\r\n        console.error(\"Send message failed:\", errText);\r\n        return;\r\n      }\r\n\r\n      const msg = await res.json();\r\n      setMessages((prev) => [...prev, msg]);\r\n      lastMessageIdRef.current = msg.id;\r\n      setNewMessage(\"\");\r\n      scrollToBottom();\r\n    } catch (err) {\r\n      console.error(\"Send message error:\", err);\r\n    }\r\n  };\r\n\r\nuseEffect(() => {\r\n  setMessages([]);              // ŸÅÿ∂Ÿä ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿπŸÜÿØ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿ¥ÿßÿ™\r\n  lastMessageIdRef.current = null;\r\n  fetchMessages();              // Ÿáÿßÿ™ ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑÿÆÿßÿµÿ© ÿ®ÿßŸÑÿ¥ÿßÿ™ ÿØŸá\r\n  const interval = setInterval(fetchMessages, 2000);\r\n  return () => clearInterval(interval);\r\n}, [chatId]);                   // ŸÖŸáŸÖ ÿ¨ÿØÿßŸã\r\n\r\n\r\n  return (\r\n    <div style={{ border: \"1px solid #ccc\", padding: 10, marginTop: 10 }}>\r\n      <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n        <h3>Chat with {friend.name || friend.email}</h3>\r\n        {onClose && <button onClick={onClose}>X</button>}\r\n      </div>\r\n\r\n      <div style={{ maxHeight: 300, overflowY: \"auto\", marginBottom: 10 }}>\r\n        {messages.map((msg) => (\r\n          <div\r\n            key={msg.id}\r\n            style={{\r\n              textAlign: msg.senderId === user?.id ? \"right\" : \"left\",\r\n              margin: \"5px 0\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"inline-block\",\r\n                background: msg.senderId === user?.id ? \"#4caf50\" : \"#eee\",\r\n                color: msg.senderId === user?.id ? \"#fff\" : \"#000\",\r\n                borderRadius: \"15px\",\r\n                padding: \"5px 10px\",\r\n              }}\r\n            >\r\n              {msg.content}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", gap: 5 }}>\r\n        <input\r\n          type=\"text\"\r\n          value={newMessage}\r\n          onChange={(e) => setNewMessage(e.target.value)}\r\n          onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\r\n          placeholder=\"Type...\"\r\n          style={{ flex: 1, padding: 5 }}\r\n        />\r\n        <button onClick={sendMessage}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1035, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/components/MyFriends.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport ChatWindow from \"./ChatWindow\";\r\n\r\nexport default function MyFriends({ myFriends, theme, user }) {\r\n  const [openChats, setOpenChats] = useState([]);\r\n  const [activeTab, setActiveTab] = useState(null);\r\n\r\n  const openChat = async (friend) => {\r\n    const res = await fetch(\"/api/messages/get-chat\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ friendId: friend.id }),\r\n    });\r\n    const data = await res.json();\r\n    if (data.chatId) {\r\n      setOpenChats((prev) => {\r\n        if (prev.some((c) => c.chatId === data.chatId)) return prev;\r\n        return [...prev, { friend, chatId: data.chatId }];\r\n      });\r\n      setActiveTab(data.chatId); // ÿßŸÅÿ™ÿ≠ ÿßŸÑÿ™ÿßÿ® ÿßŸÑÿ¨ÿØŸäÿØ ŸÖÿ®ÿßÿ¥ÿ±ÿ©\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: \"20px\" }}>\r\n      <h2>My Friends</h2>\r\n\r\n      {myFriends.map((f) => (\r\n        <div\r\n          key={f.id}\r\n          style={{\r\n            marginTop: \"10px\",\r\n            padding: \"8px\",\r\n            background: theme === \"dark\" ? \"#2a2a2a\" : \"#eee\",\r\n            borderRadius: \"6px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={() => openChat(f.friend)}\r\n        >\r\n          <span>{f.friend.name || f.friend.email}</span>\r\n        </div>\r\n      ))}\r\n\r\n      {openChats.length > 0 && (\r\n        <div style={{ marginTop: \"20px\" }}>\r\n          {/* Tabs */}\r\n          <div style={{ display: \"flex\", gap: \"10px\", marginBottom: \"10px\" }}>\r\n            {openChats.map((chat) => (\r\n              <div\r\n                key={chat.chatId}\r\n                onClick={() => setActiveTab(chat.chatId)}\r\n                style={{\r\n                  padding: \"5px 10px\",\r\n                  borderRadius: \"5px\",\r\n                  cursor: \"pointer\",\r\n                  background: activeTab === chat.chatId ? \"#4caf50\" : \"#ccc\",\r\n                  color: activeTab === chat.chatId ? \"#fff\" : \"#000\",\r\n                }}\r\n              >\r\n                {chat.friend.name || chat.friend.email}\r\n                <button\r\n                  style={{ marginLeft: \"5px\" }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setOpenChats((prev) =>\r\n                      prev.filter((c) => c.chatId !== chat.chatId)\r\n                    );\r\n                    if (activeTab === chat.chatId) setActiveTab(null);\r\n                  }}\r\n                >\r\n                  X\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Active Chat Window ŸÅŸÇÿ∑ */}\r\n          {activeTab && (\r\n            <ChatWindow\r\n              key={activeTab} // ŸÖŸáŸÖ ÿπŸÑÿ¥ÿßŸÜ ŸäŸÅÿµŸÑ ÿßŸÑŸÄ state\r\n              friend={openChats.find((c) => c.chatId === activeTab)?.friend}\r\n              user={user}\r\n              chatId={activeTab}\r\n              onClose={() =>\r\n                setOpenChats((prev) =>\r\n                  prev.filter((c) => c.chatId !== activeTab)\r\n                )\r\n              }\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE;;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,WAAW,OAAO;QACtB,MAAM,MAAM,MAAM,MAAM,0BAA0B;YAChD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE,UAAU,OAAO,EAAE;YAAC;QAC7C;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,KAAK,MAAM,EAAE;YACf,aAAa,CAAC;gBACZ,IAAI,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,KAAK,MAAM,GAAG,OAAO;gBACvD,OAAO;uBAAI;oBAAM;wBAAE;wBAAQ,QAAQ,KAAK,MAAM;oBAAC;iBAAE;YACnD;YACA,aAAa,KAAK,MAAM,GAAG,2BAA2B;QACxD;IACF;IAEA,qBACE,6LAAC;QAAI,OAAO;YAAE,WAAW;QAAO;;0BAC9B,6LAAC;0BAAG;;;;;;YAEH,UAAU,GAAG,CAAC,CAAC,kBACd,6LAAC;oBAEC,OAAO;wBACL,WAAW;wBACX,SAAS;wBACT,YAAY,UAAU,SAAS,YAAY;wBAC3C,cAAc;wBACd,QAAQ;oBACV;oBACA,SAAS,IAAM,SAAS,EAAE,MAAM;8BAEhC,cAAA,6LAAC;kCAAM,EAAE,MAAM,CAAC,IAAI,IAAI,EAAE,MAAM,CAAC,KAAK;;;;;;mBAVjC,EAAE,EAAE;;;;;YAcZ,UAAU,MAAM,GAAG,mBAClB,6LAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAO;;kCAE9B,6LAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,KAAK;4BAAQ,cAAc;wBAAO;kCAC9D,UAAU,GAAG,CAAC,CAAC,qBACd,6LAAC;gCAEC,SAAS,IAAM,aAAa,KAAK,MAAM;gCACvC,OAAO;oCACL,SAAS;oCACT,cAAc;oCACd,QAAQ;oCACR,YAAY,cAAc,KAAK,MAAM,GAAG,YAAY;oCACpD,OAAO,cAAc,KAAK,MAAM,GAAG,SAAS;gCAC9C;;oCAEC,KAAK,MAAM,CAAC,IAAI,IAAI,KAAK,MAAM,CAAC,KAAK;kDACtC,6LAAC;wCACC,OAAO;4CAAE,YAAY;wCAAM;wCAC3B,SAAS,CAAC;4CACR,EAAE,eAAe;4CACjB,aAAa,CAAC,OACZ,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,KAAK,MAAM;4CAE7C,IAAI,cAAc,KAAK,MAAM,EAAE,aAAa;wCAC9C;kDACD;;;;;;;+BApBI,KAAK,MAAM;;;;;;;;;;oBA4BrB,2BACC,6LAAC,yJAAU;wBAET,QAAQ,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,YAAY;wBACvD,MAAM;wBACN,QAAQ;wBACR,SAAS,IACP,aAAa,CAAC,OACZ,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK;uBAN/B;;;;;;;;;;;;;;;;;AAenB;GA3FwB;KAAA"}},
    {"offset": {"line": 1191, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/profile/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// Components\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport UserInfo from \"./components/UserInfo\";\r\nimport CreatePostForm from \"./components/CreatePostForm\";\r\nimport CreateReelForm from \"./components/CreateReelForm\"; // üëà IMPORTED\r\nimport FriendSuggestions from \"./components/FriendSuggestions\";\r\nimport FriendRequests from \"./components/FriendRequests\";\r\nimport MyFriends from \"./components/MyFriends\";\r\n\r\n\r\nexport default function ProfilePage() {\r\n  const { user } = useContext(AuthContext);\r\n  const { theme } = useContext(ThemeContext);\r\n  const router = useRouter();\r\n\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [showReelForm, setShowReelForm] = useState(false); // üëà separate state for reels\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [showFriendRequests, setShowFriendRequests] = useState(false);\r\n  const [showMyFriends, setShowMyFriends] = useState(false);\r\n  const [showUpdateProfile, setShowUpdateProfile] = useState(false);\r\n\r\n  const [suggestedUsers, setSuggestedUsers] = useState([]);\r\n  const [friendRequests, setFriendRequests] = useState([]);\r\n  const [myFriends, setMyFriends] = useState([]);\r\n\r\n  // Post states\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [videoFile, setVideoFile] = useState(null);\r\n\r\n  // Reel states\r\n  const [caption, setCaption] = useState(\"\");\r\n  const [reelVideoFile, setReelVideoFile] = useState(null);\r\n\r\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [collapsed, setCollapsed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!user) router.push(\"/login\");\r\n    else {\r\n      fetchSuggestions();\r\n      fetchFriendRequests();\r\n      fetchMyFriends();\r\n    }\r\n  }, [user]);\r\n\r\n  if (!user) return null;\r\n\r\n  const showTemporaryMessage = (msg) => {\r\n    setMessage(msg);\r\n    setTimeout(() => setMessage(\"\"), 3000);\r\n  };\r\n\r\n  // Fetching data\r\n  const fetchSuggestions = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/friends/suggestions\");\r\n      const data = await res.json();\r\n      setSuggestedUsers(data.users || []);\r\n    } catch (err) { console.error(err); }\r\n  };\r\n\r\n  const fetchFriendRequests = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/friends/requests\");\r\n      const data = await res.json();\r\n      setFriendRequests(data.requests || []);\r\n    } catch (err) { console.error(err); }\r\n  };\r\n\r\n  const fetchMyFriends = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/friends/list\");\r\n      const data = await res.json();\r\n      setMyFriends(data.friends || []);\r\n    } catch (err) { console.error(err); }\r\n  };\r\n\r\n  // Friend handlers\r\n  const handleSendRequest = async (friendId) => {\r\n    try {\r\n      const res = await fetch(\"/api/friends/add\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ friendId })\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) return alert(data.error || \"Failed to send friend request\");\r\n      alert(\"Friend request sent!\");\r\n      fetchSuggestions();\r\n    } catch (err) { console.error(\"SEND REQUEST ERROR:\", err); }\r\n  };\r\n\r\n  const handleAcceptRequest = async (requestId) => {\r\n    try {\r\n      const res = await fetch(\"/api/friends/accept\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ requestId })\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) return alert(data.error || \"Failed to accept request\");\r\n      alert(\"Friend request accepted!\");\r\n      fetchFriendRequests();\r\n      fetchMyFriends();\r\n    } catch (err) { console.error(\"ACCEPT REQUEST ERROR:\", err); }\r\n  };\r\n\r\n  const handleRejectRequest = async (requestId) => {\r\n    try {\r\n      const res = await fetch(\"/api/friends/reject\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ requestId })\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) return alert(data.error || \"Failed to reject request\");\r\n      alert(\"Request rejected!\");\r\n      fetchFriendRequests();\r\n    } catch (err) { console.error(\"REJECT REQUEST ERROR:\", err); }\r\n  };\r\n\r\n  // Create post\r\n  const handleCreatePost = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"content\", content);\r\n    if (imageFile) formData.append(\"image\", imageFile);\r\n    if (videoFile) formData.append(\"video\", videoFile);\r\n\r\n    const res = await fetch(\"/api/posts/create\", { method: \"POST\", body: formData });\r\n    const data = await res.json();\r\n\r\n    if (res.ok) {\r\n      setTitle(\"\"); setContent(\"\"); setImageFile(null); setVideoFile(null);\r\n      showTemporaryMessage(\"Post Published!\");\r\n    } else setMessage(data.error || \"Error\");\r\n  };\r\n\r\n  // Create reel\r\n  const handleCreateReel = async (e) => {\r\n    e.preventDefault();\r\n    if (!reelVideoFile) return alert(\"Please select a video.\");\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"caption\", caption);\r\n    formData.append(\"video\", reelVideoFile);\r\n\r\n    const res = await fetch(\"/api/reels/create\", { method: \"POST\", body: formData });\r\n    const data = await res.json();\r\n\r\n    if (res.ok) {\r\n      setCaption(\"\"); setReelVideoFile(null);\r\n      showTemporaryMessage(\"Reel Published!\");\r\n    } else setMessage(data.error || \"Error publishing reel\");\r\n  };\r\n\r\n  const onEmojiClick = (emojiData) => setContent(prev => prev + emojiData.emoji);\r\n\r\n  const styles = {\r\n    page: { display: \"flex\", minHeight: \"100vh\", background: theme === \"dark\" ? \"#121212\" : \"#fff\", color: theme === \"dark\" ? \"#f1f1f1\" : \"#000\" },\r\n    main: { flex: 1, padding: \"30px\" },\r\n    message: { marginTop: \"15px\", color: \"green\" },\r\n  };\r\n\r\n  return (\r\n    <div style={styles.page}>\r\n      <Sidebar\r\n        collapsed={collapsed}\r\n        setCollapsed={setCollapsed}\r\n        setShowForm={setShowForm}\r\n        setShowReelForm={setShowReelForm} // üëà pass reel toggle\r\n        handleAddFriendsClick={() => setShowSuggestions(!showSuggestions)}\r\n        handleShowFriendRequests={() => setShowFriendRequests(!showFriendRequests)}\r\n        handleShowMyFriends={() => setShowMyFriends(!showMyFriends)}\r\n        theme={theme}\r\n      />\r\n\r\n      <div style={styles.main}>\r\n        <h1>Your Profile</h1>\r\n        <UserInfo user={user} theme={theme} />\r\n\r\n        {showUpdateProfile && <UpdateProfile user={user} theme={theme} />}\r\n\r\n        {/* Create Post Form */}\r\n        <CreatePostForm\r\n          showForm={showForm}\r\n          title={title} setTitle={setTitle}\r\n          content={content} setContent={setContent}\r\n          imageFile={imageFile} setImageFile={setImageFile}\r\n          videoFile={videoFile} setVideoFile={setVideoFile}\r\n          showEmojiPicker={showEmojiPicker} setShowEmojiPicker={setShowEmojiPicker}\r\n          handleCreatePost={handleCreatePost}\r\n          theme={theme}\r\n          onEmojiClick={onEmojiClick}\r\n        />\r\n\r\n        {/* Create Reel Form */}\r\n        <CreateReelForm\r\n          showForm={showReelForm}\r\n          caption={caption} setCaption={setCaption}\r\n          videoFile={reelVideoFile} setVideoFile={setReelVideoFile}\r\n          showEmojiPicker={showEmojiPicker} setShowEmojiPicker={setShowEmojiPicker}\r\n          handleCreateReel={handleCreateReel}\r\n          onEmojiClick={(emoji) => setCaption(prev => prev + emoji.emoji)}\r\n          theme={theme}\r\n        />\r\n\r\n        {message && <p style={styles.message}>{message}</p>}\r\n\r\n        {showSuggestions && <FriendSuggestions suggestedUsers={suggestedUsers} handleSendRequest={handleSendRequest} theme={theme} />}\r\n        {showFriendRequests && <FriendRequests friendRequests={friendRequests} handleAcceptRequest={handleAcceptRequest} handleRejectRequest={handleRejectRequest} theme={theme} />}\r\n        {showMyFriends && <MyFriends myFriends={myFriends} theme={theme} user={user} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}