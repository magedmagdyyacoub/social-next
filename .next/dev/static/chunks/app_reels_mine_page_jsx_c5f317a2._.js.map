{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Barakat/Desktop/social-next/app/reels/mine/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { ThemeContext } from \"../../../context/ThemeContext\";\r\n\r\nexport default function MyReelsPage() {\r\n  const { user } = useContext(AuthContext);\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  const [reels, setReels] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user) fetchMyReels();\r\n  }, [user]);\r\n\r\n  const fetchMyReels = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/reels/mine\");\r\n      const data = await res.json();\r\n      setReels(data.reels || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (!user) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"30px\", background: theme === \"dark\" ? \"#121212\" : \"#fff\", minHeight: \"100vh\", color: theme === \"dark\" ? \"#f1f1f1\" : \"#000\" }}>\r\n      <h1>My Reels</h1>\r\n\r\n      {reels.length === 0 && <p>No reels yet.</p>}\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"20px\", marginTop: \"20px\" }}>\r\n        {reels.map(reel => (\r\n          <div key={reel.id} style={{ border: `1px solid ${theme === \"dark\" ? \"#333\" : \"#ccc\"}`, padding: \"10px\", borderRadius: \"8px\" }}>\r\n            <video src={reel.video} controls style={{ width: \"100%\", maxHeight: \"400px\", borderRadius: \"6px\" }} />\r\n            {reel.caption && <p>{reel.caption}</p>}\r\n            \r\n            <p style={{ fontSize: \"12px\", color: theme === \"dark\" ? \"#888\" : \"#555\" }}>\r\n              Created at: {new Date(reel.createdAt).toLocaleString()}\r\n            </p>\r\n\r\n            <p style={{ fontSize: \"12px\", color: theme === \"dark\" ? \"#aaa\" : \"#666\" }}>\r\n              Likes: {reel.likes?.length || 0} | Comments: {reel.comments?.length || 0}\r\n            </p>\r\n\r\n            {/* Display first 2 comments as preview */}\r\n            {reel.comments?.length > 0 && (\r\n              <div style={{ marginTop: \"10px\" }}>\r\n                {reel.comments.slice(0, 2).map(comment => (\r\n                  <div key={comment.id} style={{ padding: \"4px 0\", fontSize: \"13px\", color: theme === \"dark\" ? \"#ccc\" : \"#333\" }}>\r\n                    <strong>{comment.author.name || \"Unknown\"}:</strong> {comment.content} {comment.emoji && <span>{comment.emoji}</span>}\r\n                  </div>\r\n                ))}\r\n                {reel.comments.length > 2 && <p style={{ fontSize: \"12px\", color: theme === \"dark\" ? \"#888\" : \"#555\" }}>+{reel.comments.length - 2} more comments</p>}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,2KAAU,EAAC,yIAAW;IACvC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2KAAU,EAAC,2IAAY;IAEzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAErC,IAAA,0KAAS;iCAAC;YACR,IAAI,MAAM;QACZ;gCAAG;QAAC;KAAK;IAET,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,SAAS,KAAK,KAAK,IAAI,EAAE;QAC3B,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,IAAI,CAAC,MAAM,qBAAO,6LAAC;kBAAE;;;;;;IAErB,qBACE,6LAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,YAAY,UAAU,SAAS,YAAY;YAAQ,WAAW;YAAS,OAAO,UAAU,SAAS,YAAY;QAAO;;0BACjJ,6LAAC;0BAAG;;;;;;YAEH,MAAM,MAAM,KAAK,mBAAK,6LAAC;0BAAE;;;;;;0BAE1B,6LAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,eAAe;oBAAU,KAAK;oBAAQ,WAAW;gBAAO;0BACpF,MAAM,GAAG,CAAC,CAAA,qBACT,6LAAC;wBAAkB,OAAO;4BAAE,QAAQ,CAAC,UAAU,EAAE,UAAU,SAAS,SAAS,QAAQ;4BAAE,SAAS;4BAAQ,cAAc;wBAAM;;0CAC1H,6LAAC;gCAAM,KAAK,KAAK,KAAK;gCAAE,QAAQ;gCAAC,OAAO;oCAAE,OAAO;oCAAQ,WAAW;oCAAS,cAAc;gCAAM;;;;;;4BAChG,KAAK,OAAO,kBAAI,6LAAC;0CAAG,KAAK,OAAO;;;;;;0CAEjC,6LAAC;gCAAE,OAAO;oCAAE,UAAU;oCAAQ,OAAO,UAAU,SAAS,SAAS;gCAAO;;oCAAG;oCAC5D,IAAI,KAAK,KAAK,SAAS,EAAE,cAAc;;;;;;;0CAGtD,6LAAC;gCAAE,OAAO;oCAAE,UAAU;oCAAQ,OAAO,UAAU,SAAS,SAAS;gCAAO;;oCAAG;oCACjE,KAAK,KAAK,EAAE,UAAU;oCAAE;oCAAc,KAAK,QAAQ,EAAE,UAAU;;;;;;;4BAIxE,KAAK,QAAQ,EAAE,SAAS,mBACvB,6LAAC;gCAAI,OAAO;oCAAE,WAAW;gCAAO;;oCAC7B,KAAK,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,wBAC7B,6LAAC;4CAAqB,OAAO;gDAAE,SAAS;gDAAS,UAAU;gDAAQ,OAAO,UAAU,SAAS,SAAS;4CAAO;;8DAC3G,6LAAC;;wDAAQ,QAAQ,MAAM,CAAC,IAAI,IAAI;wDAAU;;;;;;;gDAAU;gDAAE,QAAQ,OAAO;gDAAC;gDAAE,QAAQ,KAAK,kBAAI,6LAAC;8DAAM,QAAQ,KAAK;;;;;;;2CADrG,QAAQ,EAAE;;;;;oCAIrB,KAAK,QAAQ,CAAC,MAAM,GAAG,mBAAK,6LAAC;wCAAE,OAAO;4CAAE,UAAU;4CAAQ,OAAO,UAAU,SAAS,SAAS;wCAAO;;4CAAG;4CAAE,KAAK,QAAQ,CAAC,MAAM,GAAG;4CAAE;;;;;;;;;;;;;;uBApB/H,KAAK,EAAE;;;;;;;;;;;;;;;;AA4B3B;GA1DwB;KAAA"}}]
}